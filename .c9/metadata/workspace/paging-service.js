{"filter":false,"title":"paging-service.js","tooltip":"/paging-service.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":43,"column":26},"end":{"row":43,"column":27},"action":"insert","lines":["s"],"id":785}],[{"start":{"row":43,"column":27},"end":{"row":43,"column":28},"action":"insert","lines":["o"],"id":786}],[{"start":{"row":43,"column":28},"end":{"row":43,"column":29},"action":"insert","lines":["l"],"id":787}],[{"start":{"row":43,"column":29},"end":{"row":43,"column":30},"action":"insert","lines":["v"],"id":788}],[{"start":{"row":43,"column":30},"end":{"row":43,"column":31},"action":"insert","lines":["e"],"id":789}],[{"start":{"row":43,"column":31},"end":{"row":43,"column":33},"action":"insert","lines":["()"],"id":790}],[{"start":{"row":43,"column":33},"end":{"row":43,"column":34},"action":"insert","lines":[";"],"id":791}],[{"start":{"row":43,"column":32},"end":{"row":43,"column":53},"action":"insert","lines":[" this.pageChangeEvent"],"id":792}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":16},"action":"insert","lines":["                "],"id":793},{"start":{"row":43,"column":48},"end":{"row":43,"column":49},"action":"remove","lines":[" "]}],[{"start":{"row":85,"column":8},"end":{"row":87,"column":8},"action":"insert","lines":["","            ","        "],"id":794}],[{"start":{"row":85,"column":8},"end":{"row":86,"column":11},"action":"insert","lines":[" this.currentPageChanged.resolve(this.pageChangeEvent);","           "],"id":795}],[{"start":{"row":85,"column":14},"end":{"row":85,"column":32},"action":"remove","lines":["currentPageChanged"],"id":796},{"start":{"row":85,"column":14},"end":{"row":85,"column":15},"action":"insert","lines":["c"]}],[{"start":{"row":85,"column":15},"end":{"row":85,"column":16},"action":"insert","lines":["u"],"id":797}],[{"start":{"row":85,"column":16},"end":{"row":85,"column":17},"action":"insert","lines":["r"],"id":798}],[{"start":{"row":85,"column":17},"end":{"row":85,"column":18},"action":"insert","lines":["r"],"id":799}],[{"start":{"row":85,"column":17},"end":{"row":85,"column":18},"action":"remove","lines":["r"],"id":800}],[{"start":{"row":85,"column":16},"end":{"row":85,"column":17},"action":"remove","lines":["r"],"id":801}],[{"start":{"row":85,"column":15},"end":{"row":85,"column":16},"action":"remove","lines":["u"],"id":802}],[{"start":{"row":85,"column":14},"end":{"row":85,"column":15},"action":"remove","lines":["c"],"id":803}],[{"start":{"row":85,"column":14},"end":{"row":85,"column":15},"action":"insert","lines":["p"],"id":804}],[{"start":{"row":85,"column":15},"end":{"row":85,"column":16},"action":"insert","lines":["a"],"id":805}],[{"start":{"row":85,"column":16},"end":{"row":85,"column":17},"action":"insert","lines":["g"],"id":806}],[{"start":{"row":85,"column":17},"end":{"row":85,"column":18},"action":"insert","lines":["e"],"id":807}],[{"start":{"row":85,"column":18},"end":{"row":85,"column":19},"action":"insert","lines":["s"],"id":808}],[{"start":{"row":85,"column":19},"end":{"row":85,"column":20},"action":"insert","lines":["i"],"id":809}],[{"start":{"row":85,"column":19},"end":{"row":85,"column":20},"action":"remove","lines":["i"],"id":810}],[{"start":{"row":85,"column":18},"end":{"row":85,"column":19},"action":"remove","lines":["s"],"id":811}],[{"start":{"row":85,"column":17},"end":{"row":85,"column":18},"action":"remove","lines":["e"],"id":812}],[{"start":{"row":85,"column":14},"end":{"row":85,"column":17},"action":"remove","lines":["pag"],"id":813},{"start":{"row":85,"column":14},"end":{"row":85,"column":29},"action":"insert","lines":["pageSizeChanged"]}],[{"start":{"row":85,"column":9},"end":{"row":86,"column":10},"action":"remove","lines":["this.pageSizeChanged.resolve(this.pageChangeEvent);","          "],"id":814}],[{"start":{"row":83,"column":33},"end":{"row":84,"column":0},"action":"insert","lines":["",""],"id":815},{"start":{"row":84,"column":0},"end":{"row":84,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":84,"column":12},"end":{"row":85,"column":10},"action":"insert","lines":["this.pageSizeChanged.resolve(this.pageChangeEvent);","          "],"id":816}],[{"start":{"row":85,"column":0},"end":{"row":85,"column":10},"action":"remove","lines":["          "],"id":817},{"start":{"row":87,"column":0},"end":{"row":87,"column":10},"action":"remove","lines":["          "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":12},"action":"remove","lines":["            "]}],[{"start":{"row":0,"column":0},"end":{"row":116,"column":8},"action":"remove","lines":["angular.module('gtpWebApp.core')","    .factory('pagingService', ['$timeout', '$parse', function($timeout, $parse) {","        var pagingService = {};","        var paging = function(key, data) {","            if (pagingService[key]) {","                return pagingService[key];","            }","","            this.key = key;","","            var thisobj = this;","            // $timeout(function(argument) {","            //     // body...","            //     thisobj.currentPage = 0;","            // })","            this.pageSize = 10; //setting defult pagesize as 10.","            this.goTo(0); // setting current page number to 0","            this.collectionLength = undefined;","            this.currentPageChanged = new $gq();","            this.pageSizeChanged = new $gq();","            if (data) {","                angular.extend(this, data);","            }","            pagingService[key] = this;","        };","","        paging.prototype.setCollectionLength = function(length) {","            this.collectionLength = length;","        }","        paging.prototype.getAllPagings = function() {","            return pagingService;","        };","","        paging.prototype.goTo = function(pageNumber) {","            var oldVal = this.currentPage;","            if (pageNumber > this.currentPage && this.collectionLength && this.collectionLength > (pageNumber * this.pageSize)) {","                this.currentPage = pageNumber;","            }","            else if (pageNumber >= 0) {","                this.currentPage = pageNumber;","            }","            if (oldVal != this.currentPage) {","                this.populatePageChangeEvent(pageNumber, oldVal);","                this.currentPageChanged.resolve(this.pageChangeEvent);","            }","        };","","        paging.prototype.populatePageChangeEvent = function(currentPage, oldVal) {","            // body...","            // if (currentPage != oldVal) {","            var object = {","                start: 0,","                end: this.pageSize","            };","            object.start = this.pageSize * (this.currentPage);","            object.end = object.start + this.pageSize;","            this.pageChangeEvent = {","                info: {","                    newCurrentPage: currentPage, //Changed page number","                    oldCurrentPage: oldVal,","                    extent: object,","                    pageSize: this.pageSize","                }","            };","            // }","        };","","        paging.prototype.goNext = function() {","            if (this.collectionLength && this.collectionLength > ((this.currentPage + 1) * this.pageSize)) {","                this.goTo(this.currentPage + 1);","            }","","","        };","        paging.prototype.goBack = function() {","            if (this.currentPage > 0) {","                this.goTo(this.currentPage - 1)","            }","            else {","                //console.log('currentPage has reached 0');","            }","        };","        paging.prototype.setSize = function(size) {","            this.pageSize = size;","            this.pageSizeChanged.resolve(this.pageChangeEvent);","","            this.populatePageChangeEvent(0, this.currentPage);","","","        };","        paging.prototype.getTotalPageCount = function(totalLength) {","            return totalLength / this.pageSize;","        };","        paging.prototype.getRange = function(pageNumber) {","","            var pNum = pageNumber || this.currentPage || 0;","","            var start = this.pageSize * pNum;","            var end = start + this.pageSize;","            return [start, end];","","        }","        return paging;","        //return{","        //    get:function(key){","        //","        //","        //","        //","        //        if(!pagingService[key]){","        //","        //            pagingService[key] = new paging(key);","        //        }","        //        return pagingService[key];","        //    }","        //}","    }]);"],"id":818},{"start":{"row":0,"column":0},"end":{"row":116,"column":8},"action":"insert","lines":["angular.module('gtpWebApp.core')","    .factory('pagingService', ['$timeout', '$parse', function($timeout, $parse) {","        var pagingService = {};","        var paging = function(key, data) {","            if (pagingService[key]) {","                return pagingService[key];","            }","","            this.key = key;","","            var thisobj = this;","            // $timeout(function(argument) {","            //     // body...","            //     thisobj.currentPage = 0;","            // })","            this.pageSize = 10; //setting defult pagesize as 10.","            this.goTo(0); // setting current page number to 0","            this.collectionLength = undefined;","            this.currentPageChanged = new $gq();","            this.pageSizeChanged = new $gq();","            if (data) {","                angular.extend(this, data);","            }","            pagingService[key] = this;","        };","","        paging.prototype.setCollectionLength = function(length) {","            this.collectionLength = length;","        }","        paging.prototype.getAllPagings = function() {","            return pagingService;","        };","","        paging.prototype.goTo = function(pageNumber) {","            var oldVal = this.currentPage;","            if (pageNumber > this.currentPage && this.collectionLength && this.collectionLength > (pageNumber * this.pageSize)) {","                this.currentPage = pageNumber;","            }","            else if (pageNumber >= 0) {","                this.currentPage = pageNumber;","            }","            if (oldVal != this.currentPage) {","                this.populatePageChangeEvent(pageNumber, oldVal);","                this.currentPageChanged.resolve(this.pageChangeEvent);","            }","        };","","        paging.prototype.populatePageChangeEvent = function(currentPage, oldVal) {","            // body...","            // if (currentPage != oldVal) {","            var object = {","                start: 0,","                end: this.pageSize","            };","            object.start = this.pageSize * (this.currentPage);","            object.end = object.start + this.pageSize;","            this.pageChangeEvent = {","                info: {","                    newCurrentPage: currentPage, //Changed page number","                    oldCurrentPage: oldVal,","                    extent: object,","                    pageSize: this.pageSize","                }","            };","            // }","        };","","        paging.prototype.goNext = function() {","            if (this.collectionLength && this.collectionLength > ((this.currentPage + 1) * this.pageSize)) {","                this.goTo(this.currentPage + 1);","            }","","","        };","        paging.prototype.goBack = function() {","            if (this.currentPage > 0) {","                this.goTo(this.currentPage - 1)","            }","            else {","                //console.log('currentPage has reached 0');","            }","        };","        paging.prototype.setSize = function(size) {","            this.pageSize = size;","            this.pageSizeChanged.resolve(this.pageChangeEvent);","","            this.populatePageChangeEvent(0, this.currentPage);","","","        };","        paging.prototype.getTotalPageCount = function(totalLength) {","            return totalLength / this.pageSize;","        };","        paging.prototype.getRange = function(pageNumber) {","","            var pNum = pageNumber || this.currentPage || 0;","","            var start = this.pageSize * pNum;","            var end = start + this.pageSize;","            return [start, end];","","        }","        return paging;","        //return{","        //    get:function(key){","        //","        //","        //","        //","        //        if(!pagingService[key]){","        //","        //            pagingService[key] = new paging(key);","        //        }","        //        return pagingService[key];","        //    }","        //}","    }]);"]}],[{"start":{"row":1,"column":51},"end":{"row":1,"column":52},"action":"insert","lines":[","],"id":819}],[{"start":{"row":1,"column":52},"end":{"row":1,"column":53},"action":"insert","lines":[" "],"id":820}],[{"start":{"row":1,"column":53},"end":{"row":1,"column":55},"action":"insert","lines":["''"],"id":821}],[{"start":{"row":1,"column":54},"end":{"row":1,"column":55},"action":"insert","lines":["$"],"id":822}],[{"start":{"row":1,"column":55},"end":{"row":1,"column":56},"action":"insert","lines":["g"],"id":823}],[{"start":{"row":1,"column":56},"end":{"row":1,"column":57},"action":"insert","lines":["q"],"id":824}],[{"start":{"row":1,"column":85},"end":{"row":1,"column":86},"action":"insert","lines":[","],"id":825}],[{"start":{"row":1,"column":86},"end":{"row":1,"column":87},"action":"insert","lines":[" "],"id":826}],[{"start":{"row":1,"column":87},"end":{"row":1,"column":88},"action":"insert","lines":["#"],"id":827}],[{"start":{"row":1,"column":88},"end":{"row":1,"column":89},"action":"insert","lines":["$"],"id":828}],[{"start":{"row":1,"column":88},"end":{"row":1,"column":89},"action":"remove","lines":["$"],"id":829}],[{"start":{"row":1,"column":87},"end":{"row":1,"column":88},"action":"remove","lines":["#"],"id":830}],[{"start":{"row":1,"column":87},"end":{"row":1,"column":88},"action":"insert","lines":["$"],"id":831}],[{"start":{"row":1,"column":88},"end":{"row":1,"column":89},"action":"insert","lines":["g"],"id":832}],[{"start":{"row":1,"column":89},"end":{"row":1,"column":90},"action":"insert","lines":["q"],"id":833}],[{"start":{"row":84,"column":11},"end":{"row":84,"column":63},"action":"remove","lines":[" this.pageSizeChanged.resolve(this.pageChangeEvent);"],"id":834}],[{"start":{"row":86,"column":62},"end":{"row":87,"column":0},"action":"insert","lines":["",""],"id":835},{"start":{"row":87,"column":0},"end":{"row":87,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":87,"column":12},"end":{"row":87,"column":64},"action":"insert","lines":[" this.pageSizeChanged.resolve(this.pageChangeEvent);"],"id":836}],[{"start":{"row":83,"column":33},"end":{"row":86,"column":12},"action":"remove","lines":["","           ","","            "],"id":837}],[{"start":{"row":83,"column":33},"end":{"row":84,"column":0},"action":"insert","lines":["",""],"id":838},{"start":{"row":84,"column":0},"end":{"row":84,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":85,"column":12},"end":{"row":85,"column":13},"action":"remove","lines":[" "],"id":839}],[{"start":{"row":18,"column":0},"end":{"row":19,"column":45},"action":"remove","lines":["            this.currentPageChanged = new $gq();","            this.pageSizeChanged = new $gq();"],"id":840}],[{"start":{"row":7,"column":0},"end":{"row":8,"column":45},"action":"insert","lines":["            this.currentPageChanged = new $gq();","            this.pageSizeChanged = new $gq();"],"id":841}],[{"start":{"row":8,"column":45},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":842},{"start":{"row":9,"column":0},"end":{"row":9,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":16,"column":17},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":843},{"start":{"row":17,"column":0},"end":{"row":17,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":17,"column":12},"end":{"row":18,"column":0},"action":"insert","lines":["",""],"id":844},{"start":{"row":18,"column":0},"end":{"row":18,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":20,"column":61},"end":{"row":21,"column":0},"action":"insert","lines":["",""],"id":845},{"start":{"row":21,"column":0},"end":{"row":21,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":19,"column":11},"end":{"row":19,"column":12},"action":"insert","lines":["/"],"id":846}],[{"start":{"row":19,"column":12},"end":{"row":19,"column":13},"action":"insert","lines":["/"],"id":847}],[{"start":{"row":20,"column":11},"end":{"row":20,"column":12},"action":"insert","lines":["/"],"id":848}],[{"start":{"row":20,"column":12},"end":{"row":20,"column":13},"action":"insert","lines":["/"],"id":849}],[{"start":{"row":10,"column":27},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":850},{"start":{"row":11,"column":0},"end":{"row":11,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":11,"column":12},"end":{"row":11,"column":13},"action":"insert","lines":["i"],"id":851}],[{"start":{"row":11,"column":13},"end":{"row":11,"column":14},"action":"insert","lines":["f"],"id":852}],[{"start":{"row":11,"column":14},"end":{"row":11,"column":16},"action":"insert","lines":["()"],"id":853}],[{"start":{"row":11,"column":15},"end":{"row":11,"column":16},"action":"insert","lines":["!"],"id":854}],[{"start":{"row":11,"column":15},"end":{"row":11,"column":16},"action":"remove","lines":["!"],"id":855}],[{"start":{"row":11,"column":14},"end":{"row":11,"column":16},"action":"remove","lines":["()"],"id":856}],[{"start":{"row":11,"column":13},"end":{"row":11,"column":14},"action":"remove","lines":["f"],"id":857}],[{"start":{"row":11,"column":12},"end":{"row":11,"column":13},"action":"remove","lines":["i"],"id":858}],[{"start":{"row":9,"column":12},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":859},{"start":{"row":10,"column":0},"end":{"row":10,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":10,"column":12},"end":{"row":10,"column":13},"action":"insert","lines":["i"],"id":860}],[{"start":{"row":10,"column":13},"end":{"row":10,"column":14},"action":"insert","lines":["f"],"id":861}],[{"start":{"row":10,"column":14},"end":{"row":10,"column":16},"action":"insert","lines":["()"],"id":862}],[{"start":{"row":10,"column":15},"end":{"row":10,"column":16},"action":"insert","lines":["!"],"id":863}],[{"start":{"row":10,"column":16},"end":{"row":10,"column":17},"action":"insert","lines":["k"],"id":864}],[{"start":{"row":10,"column":17},"end":{"row":10,"column":18},"action":"insert","lines":["e"],"id":865}],[{"start":{"row":10,"column":18},"end":{"row":10,"column":19},"action":"insert","lines":["y"],"id":866}],[{"start":{"row":10,"column":20},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":867},{"start":{"row":11,"column":0},"end":{"row":11,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":11,"column":12},"end":{"row":11,"column":13},"action":"insert","lines":["k"],"id":868}],[{"start":{"row":11,"column":13},"end":{"row":11,"column":14},"action":"insert","lines":["e"],"id":869}],[{"start":{"row":11,"column":14},"end":{"row":11,"column":15},"action":"insert","lines":["y"],"id":870}],[{"start":{"row":11,"column":15},"end":{"row":11,"column":16},"action":"insert","lines":[" "],"id":871}],[{"start":{"row":11,"column":16},"end":{"row":11,"column":17},"action":"insert","lines":["="],"id":872}],[{"start":{"row":11,"column":17},"end":{"row":11,"column":18},"action":"insert","lines":[" "],"id":873}],[{"start":{"row":11,"column":18},"end":{"row":11,"column":19},"action":"insert","lines":["n"],"id":874}],[{"start":{"row":11,"column":19},"end":{"row":11,"column":20},"action":"insert","lines":["e"],"id":875}],[{"start":{"row":11,"column":20},"end":{"row":11,"column":21},"action":"insert","lines":["w"],"id":876}],[{"start":{"row":11,"column":21},"end":{"row":11,"column":22},"action":"insert","lines":[" "],"id":877}],[{"start":{"row":11,"column":22},"end":{"row":11,"column":23},"action":"insert","lines":["g"],"id":878}],[{"start":{"row":11,"column":23},"end":{"row":11,"column":24},"action":"insert","lines":["u"],"id":879}],[{"start":{"row":11,"column":24},"end":{"row":11,"column":25},"action":"insert","lines":["i"],"id":880}],[{"start":{"row":11,"column":22},"end":{"row":11,"column":25},"action":"remove","lines":["gui"],"id":881},{"start":{"row":11,"column":22},"end":{"row":11,"column":33},"action":"insert","lines":["guidService"]}],[{"start":{"row":11,"column":33},"end":{"row":11,"column":35},"action":"insert","lines":["()"],"id":882}],[{"start":{"row":11,"column":35},"end":{"row":11,"column":36},"action":"insert","lines":[";"],"id":883}],[{"start":{"row":11,"column":17},"end":{"row":11,"column":36},"action":"remove","lines":[" new guidService();"],"id":884},{"start":{"row":11,"column":17},"end":{"row":11,"column":34},"action":"insert","lines":["guidService.new()"]}],[{"start":{"row":11,"column":34},"end":{"row":11,"column":35},"action":"insert","lines":[";"],"id":885}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":31,"column":9},"end":{"row":31,"column":9},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1441103018000,"hash":"1dbdc7c8f79b59a75308e89ed79c644bbff2c7ee"}