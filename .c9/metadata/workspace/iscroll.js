{"filter":false,"title":"iscroll.js","tooltip":"/iscroll.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":2010,"column":27},"action":"remove","lines":["/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */","(function (window, document, Math) {","var rAF = window.requestAnimationFrame\t||","\twindow.webkitRequestAnimationFrame\t||","\twindow.mozRequestAnimationFrame\t\t||","\twindow.oRequestAnimationFrame\t\t||","\twindow.msRequestAnimationFrame\t\t||","\tfunction (callback) { window.setTimeout(callback, 1000 / 60); };","","var utils = (function () {","\tvar me = {};","","\tvar _elementStyle = document.createElement('div').style;","\tvar _vendor = (function () {","\t\tvar vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],","\t\t\ttransform,","\t\t\ti = 0,","\t\t\tl = vendors.length;","","\t\tfor ( ; i < l; i++ ) {","\t\t\ttransform = vendors[i] + 'ransform';","\t\t\tif ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);","\t\t}","","\t\treturn false;","\t})();","","\tfunction _prefixStyle (style) {","\t\tif ( _vendor === false ) return false;","\t\tif ( _vendor === '' ) return style;","\t\treturn _vendor + style.charAt(0).toUpperCase() + style.substr(1);","\t}","","\tme.getTime = Date.now || function getTime () { return new Date().getTime(); };","","\tme.extend = function (target, obj) {","\t\tfor ( var i in obj ) {","\t\t\ttarget[i] = obj[i];","\t\t}","\t};","","\tme.addEvent = function (el, type, fn, capture) {","\t\tel.addEventListener(type, fn, !!capture);","\t};","","\tme.removeEvent = function (el, type, fn, capture) {","\t\tel.removeEventListener(type, fn, !!capture);","\t};","","\tme.prefixPointerEvent = function (pointerEvent) {","\t\treturn window.MSPointerEvent ? ","\t\t\t'MSPointer' + pointerEvent.charAt(9).toUpperCase() + pointerEvent.substr(10):","\t\t\tpointerEvent;","\t};","","\tme.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {","\t\tvar distance = current - start,","\t\t\tspeed = Math.abs(distance) / time,","\t\t\tdestination,","\t\t\tduration;","","\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;","","\t\tdestination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );","\t\tduration = speed / deceleration;","","\t\tif ( destination < lowerMargin ) {","\t\t\tdestination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;","\t\t\tdistance = Math.abs(destination - current);","\t\t\tduration = distance / speed;","\t\t} else if ( destination > 0 ) {","\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;","\t\t\tdistance = Math.abs(current) + destination;","\t\t\tduration = distance / speed;","\t\t}","","\t\treturn {","\t\t\tdestination: Math.round(destination),","\t\t\tduration: duration","\t\t};","\t};","","\tvar _transform = _prefixStyle('transform');","","\tme.extend(me, {","\t\thasTransform: _transform !== false,","\t\thasPerspective: _prefixStyle('perspective') in _elementStyle,","\t\thasTouch: 'ontouchstart' in window,","\t\thasPointer: window.PointerEvent || window.MSPointerEvent, // IE10 is prefixed","\t\thasTransition: _prefixStyle('transition') in _elementStyle","\t});","","\t// This should find all Android browsers lower than build 535.19 (both stock browser and webview)","\tme.isBadAndroid = /Android /.test(window.navigator.appVersion) && !(/Chrome\\/\\d/.test(window.navigator.appVersion));","","\tme.extend(me.style = {}, {","\t\ttransform: _transform,","\t\ttransitionTimingFunction: _prefixStyle('transitionTimingFunction'),","\t\ttransitionDuration: _prefixStyle('transitionDuration'),","\t\ttransitionDelay: _prefixStyle('transitionDelay'),","\t\ttransformOrigin: _prefixStyle('transformOrigin')","\t});","","\tme.hasClass = function (e, c) {","\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");","\t\treturn re.test(e.className);","\t};","","\tme.addClass = function (e, c) {","\t\tif ( me.hasClass(e, c) ) {","\t\t\treturn;","\t\t}","","\t\tvar newclass = e.className.split(' ');","\t\tnewclass.push(c);","\t\te.className = newclass.join(' ');","\t};","","\tme.removeClass = function (e, c) {","\t\tif ( !me.hasClass(e, c) ) {","\t\t\treturn;","\t\t}","","\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');","\t\te.className = e.className.replace(re, ' ');","\t};","","\tme.offset = function (el) {","\t\tvar left = -el.offsetLeft,","\t\t\ttop = -el.offsetTop;","","\t\t// jshint -W084","\t\twhile (el = el.offsetParent) {","\t\t\tleft -= el.offsetLeft;","\t\t\ttop -= el.offsetTop;","\t\t}","\t\t// jshint +W084","","\t\treturn {","\t\t\tleft: left,","\t\t\ttop: top","\t\t};","\t};","","\tme.preventDefaultException = function (el, exceptions) {","\t\tfor ( var i in exceptions ) {","\t\t\tif ( exceptions[i].test(el[i]) ) {","\t\t\t\treturn true;","\t\t\t}","\t\t}","","\t\treturn false;","\t};","","\tme.extend(me.eventType = {}, {","\t\ttouchstart: 1,","\t\ttouchmove: 1,","\t\ttouchend: 1,","","\t\tmousedown: 2,","\t\tmousemove: 2,","\t\tmouseup: 2,","","\t\tpointerdown: 3,","\t\tpointermove: 3,","\t\tpointerup: 3,","","\t\tMSPointerDown: 3,","\t\tMSPointerMove: 3,","\t\tMSPointerUp: 3","\t});","","\tme.extend(me.ease = {}, {","\t\tquadratic: {","\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',","\t\t\tfn: function (k) {","\t\t\t\treturn k * ( 2 - k );","\t\t\t}","\t\t},","\t\tcircular: {","\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\t// Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)","\t\t\tfn: function (k) {","\t\t\t\treturn Math.sqrt( 1 - ( --k * k ) );","\t\t\t}","\t\t},","\t\tback: {","\t\t\tstyle: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',","\t\t\tfn: function (k) {","\t\t\t\tvar b = 4;","\t\t\t\treturn ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;","\t\t\t}","\t\t},","\t\tbounce: {","\t\t\tstyle: '',","\t\t\tfn: function (k) {","\t\t\t\tif ( ( k /= 1 ) < ( 1 / 2.75 ) ) {","\t\t\t\t\treturn 7.5625 * k * k;","\t\t\t\t} else if ( k < ( 2 / 2.75 ) ) {","\t\t\t\t\treturn 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;","\t\t\t\t} else if ( k < ( 2.5 / 2.75 ) ) {","\t\t\t\t\treturn 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;","\t\t\t\t} else {","\t\t\t\t\treturn 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;","\t\t\t\t}","\t\t\t}","\t\t},","\t\telastic: {","\t\t\tstyle: '',","\t\t\tfn: function (k) {","\t\t\t\tvar f = 0.22,","\t\t\t\t\te = 0.4;","","\t\t\t\tif ( k === 0 ) { return 0; }","\t\t\t\tif ( k == 1 ) { return 1; }","","\t\t\t\treturn ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );","\t\t\t}","\t\t}","\t});","","\tme.tap = function (e, eventName) {","\t\tvar ev = document.createEvent('Event');","\t\tev.initEvent(eventName, true, true);","\t\tev.pageX = e.pageX;","\t\tev.pageY = e.pageY;","\t\te.target.dispatchEvent(ev);","\t};","","\tme.click = function (e) {","\t\tvar target = e.target,","\t\t\tev;","","\t\tif (!(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) || (/(checkbox|radio)/).test(target.type)) {","\t\t\tev = document.createEvent('MouseEvents');","\t\t\tev.initMouseEvent('click', true, true, e.view, 1,","\t\t\t\ttarget.screenX, target.screenY, target.clientX, target.clientY,","\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,","\t\t\t\t0, null);","","\t\t\tev._constructed = true;","\t\t\ttarget.dispatchEvent(ev);","\t\t}","\t};","","\treturn me;","})();","","function IScroll (el, options) {","\tthis.wrapper = typeof el == 'string' ? document.querySelector(el) : el;","\tthis.scroller = this.wrapper.children[0];","\tthis.scrollerStyle = this.scroller.style;\t\t// cache style for better performance","","\tthis.options = {","","\t\tresizeScrollbars: true,","","\t\tmouseWheelSpeed: 20,","","\t\tsnapThreshold: 0.334,","","// INSERT POINT: OPTIONS ","","\t\tstartX: 0,","\t\tstartY: 0,","\t\tscrollY: true,","\t\tdirectionLockThreshold: 5,","\t\tmomentum: true,","","\t\tbounce: true,","\t\tbounceTime: 600,","\t\tbounceEasing: '',","","\t\tpreventDefault: true,","\t\tpreventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ },","","\t\tHWCompositing: true,","\t\tuseTransition: true,","\t\tuseTransform: true","\t};","","\tfor ( var i in options ) {","\t\tthis.options[i] = options[i];","\t}","","\t// Normalize options","\tthis.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';","","\tthis.options.useTransition = utils.hasTransition && this.options.useTransition;","\tthis.options.useTransform = utils.hasTransform && this.options.useTransform;","","\tthis.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;","\tthis.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;","","\t// If you want eventPassthrough I have to lock one of the axes","\tthis.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;","\tthis.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;","","\t// With eventPassthrough we also need lockDirection mechanism","\tthis.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;","\tthis.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;","","\tthis.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;","","\tthis.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;","","\tif ( this.options.tap === true ) {","\t\tthis.options.tap = 'tap';","\t}","","\tif ( this.options.shrinkScrollbars == 'scale' ) {","\t\tthis.options.useTransition = false;","\t}","","\tthis.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;","","// INSERT POINT: NORMALIZATION","","\t// Some defaults\t","\tthis.x = 0;","\tthis.y = 0;","\tthis.directionX = 0;","\tthis.directionY = 0;","\tthis._events = {};","","// INSERT POINT: DEFAULTS","","\tthis._init();","\tthis.refresh();","","\tthis.scrollTo(this.options.startX, this.options.startY);","\tthis.enable();","}","","IScroll.prototype = {","\tversion: '5.1.3',","","\t_init: function () {","\t\tthis._initEvents();","","\t\tif ( this.options.scrollbars || this.options.indicators ) {","\t\t\tthis._initIndicators();","\t\t}","","\t\tif ( this.options.mouseWheel ) {","\t\t\tthis._initWheel();","\t\t}","","\t\tif ( this.options.snap ) {","\t\t\tthis._initSnap();","\t\t}","","\t\tif ( this.options.keyBindings ) {","\t\t\tthis._initKeys();","\t\t}","","// INSERT POINT: _init","","\t},","","\tdestroy: function () {","\t\tthis._initEvents(true);","","\t\tthis._execEvent('destroy');","\t},","","\t_transitionEnd: function (e) {","\t\tif ( e.target != this.scroller || !this.isInTransition ) {","\t\t\treturn;","\t\t}","","\t\tthis._transitionTime();","\t\tif ( !this.resetPosition(this.options.bounceTime) ) {","\t\t\tthis.isInTransition = false;","\t\t\tthis._execEvent('scrollEnd');","\t\t}","\t},","","\t_start: function (e) {","\t\t// React to left mouse button only","\t\tif ( utils.eventType[e.type] != 1 ) {","\t\t\tif ( e.button !== 0 ) {","\t\t\t\treturn;","\t\t\t}","\t\t}","","\t\tif ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {","\t\t\treturn;","\t\t}","","\t\tif ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {","\t\t\te.preventDefault();","\t\t}","","\t\tvar point = e.touches ? e.touches[0] : e,","\t\t\tpos;","","\t\tthis.initiated\t= utils.eventType[e.type];","\t\tthis.moved\t\t= false;","\t\tthis.distX\t\t= 0;","\t\tthis.distY\t\t= 0;","\t\tthis.directionX = 0;","\t\tthis.directionY = 0;","\t\tthis.directionLocked = 0;","","\t\tthis._transitionTime();","","\t\tthis.startTime = utils.getTime();","","\t\tif ( this.options.useTransition && this.isInTransition ) {","\t\t\tthis.isInTransition = false;","\t\t\tpos = this.getComputedPosition();","\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));","\t\t\tthis._execEvent('scrollEnd');","\t\t} else if ( !this.options.useTransition && this.isAnimating ) {","\t\t\tthis.isAnimating = false;","\t\t\tthis._execEvent('scrollEnd');","\t\t}","","\t\tthis.startX    = this.x;","\t\tthis.startY    = this.y;","\t\tthis.absStartX = this.x;","\t\tthis.absStartY = this.y;","\t\tthis.pointX    = point.pageX;","\t\tthis.pointY    = point.pageY;","","\t\tthis._execEvent('beforeScrollStart');","\t},","","\t_move: function (e) {","\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {","\t\t\treturn;","\t\t}","","\t\tif ( this.options.preventDefault ) {\t// increases performance on Android? TODO: check!","\t\t\te.preventDefault();","\t\t}","","\t\tvar point\t\t= e.touches ? e.touches[0] : e,","\t\t\tdeltaX\t\t= point.pageX - this.pointX,","\t\t\tdeltaY\t\t= point.pageY - this.pointY,","\t\t\ttimestamp\t= utils.getTime(),","\t\t\tnewX, newY,","\t\t\tabsDistX, absDistY;","","\t\tthis.pointX\t\t= point.pageX;","\t\tthis.pointY\t\t= point.pageY;","","\t\tthis.distX\t\t+= deltaX;","\t\tthis.distY\t\t+= deltaY;","\t\tabsDistX\t\t= Math.abs(this.distX);","\t\tabsDistY\t\t= Math.abs(this.distY);","","\t\t// We need to move at least 10 pixels for the scrolling to initiate","\t\tif ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {","\t\t\treturn;","\t\t}","","\t\t// If you are scrolling in one direction lock the other","\t\tif ( !this.directionLocked && !this.options.freeScroll ) {","\t\t\tif ( absDistX > absDistY + this.options.directionLockThreshold ) {","\t\t\t\tthis.directionLocked = 'h';\t\t// lock horizontally","\t\t\t} else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {","\t\t\t\tthis.directionLocked = 'v';\t\t// lock vertically","\t\t\t} else {","\t\t\t\tthis.directionLocked = 'n';\t\t// no lock","\t\t\t}","\t\t}","","\t\tif ( this.directionLocked == 'h' ) {","\t\t\tif ( this.options.eventPassthrough == 'vertical' ) {","\t\t\t\te.preventDefault();","\t\t\t} else if ( this.options.eventPassthrough == 'horizontal' ) {","\t\t\t\tthis.initiated = false;","\t\t\t\treturn;","\t\t\t}","","\t\t\tdeltaY = 0;","\t\t} else if ( this.directionLocked == 'v' ) {","\t\t\tif ( this.options.eventPassthrough == 'horizontal' ) {","\t\t\t\te.preventDefault();","\t\t\t} else if ( this.options.eventPassthrough == 'vertical' ) {","\t\t\t\tthis.initiated = false;","\t\t\t\treturn;","\t\t\t}","","\t\t\tdeltaX = 0;","\t\t}","","\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;","\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;","","\t\tnewX = this.x + deltaX;","\t\tnewY = this.y + deltaY;","","\t\t// Slow down if outside of the boundaries","\t\tif ( newX > 0 || newX < this.maxScrollX ) {","\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;","\t\t}","\t\tif ( newY > 0 || newY < this.maxScrollY ) {","\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;","\t\t}","","\t\tthis.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;","\t\tthis.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;","","\t\tif ( !this.moved ) {","\t\t\tthis._execEvent('scrollStart');","\t\t}","","\t\tthis.moved = true;","","\t\tthis._translate(newX, newY);","","/* REPLACE START: _move */","","\t\tif ( timestamp - this.startTime > 300 ) {","\t\t\tthis.startTime = timestamp;","\t\t\tthis.startX = this.x;","\t\t\tthis.startY = this.y;","\t\t}","","/* REPLACE END: _move */","","\t},","","\t_end: function (e) {","\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {","\t\t\treturn;","\t\t}","","\t\tif ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {","\t\t\te.preventDefault();","\t\t}","","\t\tvar point = e.changedTouches ? e.changedTouches[0] : e,","\t\t\tmomentumX,","\t\t\tmomentumY,","\t\t\tduration = utils.getTime() - this.startTime,","\t\t\tnewX = Math.round(this.x),","\t\t\tnewY = Math.round(this.y),","\t\t\tdistanceX = Math.abs(newX - this.startX),","\t\t\tdistanceY = Math.abs(newY - this.startY),","\t\t\ttime = 0,","\t\t\teasing = '';","","\t\tthis.isInTransition = 0;","\t\tthis.initiated = 0;","\t\tthis.endTime = utils.getTime();","","\t\t// reset if we are outside of the boundaries","\t\tif ( this.resetPosition(this.options.bounceTime) ) {","\t\t\treturn;","\t\t}","","\t\tthis.scrollTo(newX, newY);\t// ensures that the last position is rounded","","\t\t// we scrolled less than 10 pixels","\t\tif ( !this.moved ) {","\t\t\tif ( this.options.tap ) {","\t\t\t\tutils.tap(e, this.options.tap);","\t\t\t}","","\t\t\tif ( this.options.click ) {","\t\t\t\tutils.click(e);","\t\t\t}","","\t\t\tthis._execEvent('scrollCancel');","\t\t\treturn;","\t\t}","","\t\tif ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {","\t\t\tthis._execEvent('flick');","\t\t\treturn;","\t\t}","","\t\t// start momentum animation if needed","\t\tif ( this.options.momentum && duration < 300 ) {","\t\t\tmomentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };","\t\t\tmomentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };","\t\t\tnewX = momentumX.destination;","\t\t\tnewY = momentumY.destination;","\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);","\t\t\tthis.isInTransition = 1;","\t\t}","","","\t\tif ( this.options.snap ) {","\t\t\tvar snap = this._nearestSnap(newX, newY);","\t\t\tthis.currentPage = snap;","\t\t\ttime = this.options.snapSpeed || Math.max(","\t\t\t\t\tMath.max(","\t\t\t\t\t\tMath.min(Math.abs(newX - snap.x), 1000),","\t\t\t\t\t\tMath.min(Math.abs(newY - snap.y), 1000)","\t\t\t\t\t), 300);","\t\t\tnewX = snap.x;","\t\t\tnewY = snap.y;","","\t\t\tthis.directionX = 0;","\t\t\tthis.directionY = 0;","\t\t\teasing = this.options.bounceEasing;","\t\t}","","// INSERT POINT: _end","","\t\tif ( newX != this.x || newY != this.y ) {","\t\t\t// change easing function when scroller goes out of the boundaries","\t\t\tif ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {","\t\t\t\teasing = utils.ease.quadratic;","\t\t\t}","","\t\t\tthis.scrollTo(newX, newY, time, easing);","\t\t\treturn;","\t\t}","","\t\tthis._execEvent('scrollEnd');","\t},","","\t_resize: function () {","\t\tvar that = this;","","\t\tclearTimeout(this.resizeTimeout);","","\t\tthis.resizeTimeout = setTimeout(function () {","\t\t\tthat.refresh();","\t\t}, this.options.resizePolling);","\t},","","\tresetPosition: function (time) {","\t\tvar x = this.x,","\t\t\ty = this.y;","","\t\ttime = time || 0;","","\t\tif ( !this.hasHorizontalScroll || this.x > 0 ) {","\t\t\tx = 0;","\t\t} else if ( this.x < this.maxScrollX ) {","\t\t\tx = this.maxScrollX;","\t\t}","","\t\tif ( !this.hasVerticalScroll || this.y > 0 ) {","\t\t\ty = 0;","\t\t} else if ( this.y < this.maxScrollY ) {","\t\t\ty = this.maxScrollY;","\t\t}","","\t\tif ( x == this.x && y == this.y ) {","\t\t\treturn false;","\t\t}","","\t\tthis.scrollTo(x, y, time, this.options.bounceEasing);","","\t\treturn true;","\t},","","\tdisable: function () {","\t\tthis.enabled = false;","\t},","","\tenable: function () {","\t\tthis.enabled = true;","\t},","","\trefresh: function () {","\t\tvar rf = this.wrapper.offsetHeight;\t\t// Force reflow","","\t\tthis.wrapperWidth\t= this.wrapper.clientWidth;","\t\tthis.wrapperHeight\t= this.wrapper.clientHeight;","","/* REPLACE START: refresh */","","\t\tthis.scrollerWidth\t= this.scroller.offsetWidth;","\t\tthis.scrollerHeight\t= this.scroller.offsetHeight;","","\t\tthis.maxScrollX\t\t= this.wrapperWidth - this.scrollerWidth;","\t\tthis.maxScrollY\t\t= this.wrapperHeight - this.scrollerHeight;","","/* REPLACE END: refresh */","","\t\tthis.hasHorizontalScroll\t= this.options.scrollX && this.maxScrollX < 0;","\t\tthis.hasVerticalScroll\t\t= this.options.scrollY && this.maxScrollY < 0;","","\t\tif ( !this.hasHorizontalScroll ) {","\t\t\tthis.maxScrollX = 0;","\t\t\tthis.scrollerWidth = this.wrapperWidth;","\t\t}","","\t\tif ( !this.hasVerticalScroll ) {","\t\t\tthis.maxScrollY = 0;","\t\t\tthis.scrollerHeight = this.wrapperHeight;","\t\t}","","\t\tthis.endTime = 0;","\t\tthis.directionX = 0;","\t\tthis.directionY = 0;","","\t\tthis.wrapperOffset = utils.offset(this.wrapper);","","\t\tthis._execEvent('refresh');","","\t\tthis.resetPosition();","","// INSERT POINT: _refresh","","\t},","","\ton: function (type, fn) {","\t\tif ( !this._events[type] ) {","\t\t\tthis._events[type] = [];","\t\t}","","\t\tthis._events[type].push(fn);","\t},","","\toff: function (type, fn) {","\t\tif ( !this._events[type] ) {","\t\t\treturn;","\t\t}","","\t\tvar index = this._events[type].indexOf(fn);","","\t\tif ( index > -1 ) {","\t\t\tthis._events[type].splice(index, 1);","\t\t}","\t},","","\t_execEvent: function (type) {","\t\tif ( !this._events[type] ) {","\t\t\treturn;","\t\t}","","\t\tvar i = 0,","\t\t\tl = this._events[type].length;","","\t\tif ( !l ) {","\t\t\treturn;","\t\t}","","\t\tfor ( ; i < l; i++ ) {","\t\t\tthis._events[type][i].apply(this, [].slice.call(arguments, 1));","\t\t}","\t},","","\tscrollBy: function (x, y, time, easing) {","\t\tx = this.x + x;","\t\ty = this.y + y;","\t\ttime = time || 0;","","\t\tthis.scrollTo(x, y, time, easing);","\t},","","\tscrollTo: function (x, y, time, easing) {","\t\teasing = easing || utils.ease.circular;","","\t\tthis.isInTransition = this.options.useTransition && time > 0;","","\t\tif ( !time || (this.options.useTransition && easing.style) ) {","\t\t\tthis._transitionTimingFunction(easing.style);","\t\t\tthis._transitionTime(time);","\t\t\tthis._translate(x, y);","\t\t} else {","\t\t\tthis._animate(x, y, time, easing.fn);","\t\t}","\t},","","\tscrollToElement: function (el, time, offsetX, offsetY, easing) {","\t\tel = el.nodeType ? el : this.scroller.querySelector(el);","","\t\tif ( !el ) {","\t\t\treturn;","\t\t}","","\t\tvar pos = utils.offset(el);","","\t\tpos.left -= this.wrapperOffset.left;","\t\tpos.top  -= this.wrapperOffset.top;","","\t\t// if offsetX/Y are true we center the element to the screen","\t\tif ( offsetX === true ) {","\t\t\toffsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);","\t\t}","\t\tif ( offsetY === true ) {","\t\t\toffsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);","\t\t}","","\t\tpos.left -= offsetX || 0;","\t\tpos.top  -= offsetY || 0;","","\t\tpos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;","\t\tpos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;","","\t\ttime = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;","","\t\tthis.scrollTo(pos.left, pos.top, time, easing);","\t},","","\t_transitionTime: function (time) {","\t\ttime = time || 0;","","\t\tthis.scrollerStyle[utils.style.transitionDuration] = time + 'ms';","","\t\tif ( !time && utils.isBadAndroid ) {","\t\t\tthis.scrollerStyle[utils.style.transitionDuration] = '0.001s';","\t\t}","","","\t\tif ( this.indicators ) {","\t\t\tfor ( var i = this.indicators.length; i--; ) {","\t\t\t\tthis.indicators[i].transitionTime(time);","\t\t\t}","\t\t}","","","// INSERT POINT: _transitionTime","","\t},","","\t_transitionTimingFunction: function (easing) {","\t\tthis.scrollerStyle[utils.style.transitionTimingFunction] = easing;","","","\t\tif ( this.indicators ) {","\t\t\tfor ( var i = this.indicators.length; i--; ) {","\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);","\t\t\t}","\t\t}","","","// INSERT POINT: _transitionTimingFunction","","\t},","","\t_translate: function (x, y) {","\t\tif ( this.options.useTransform ) {","","/* REPLACE START: _translate */","","\t\t\tthis.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;","","/* REPLACE END: _translate */","","\t\t} else {","\t\t\tx = Math.round(x);","\t\t\ty = Math.round(y);","\t\t\tthis.scrollerStyle.left = x + 'px';","\t\t\tthis.scrollerStyle.top = y + 'px';","\t\t}","","\t\tthis.x = x;","\t\tthis.y = y;","","","\tif ( this.indicators ) {","\t\tfor ( var i = this.indicators.length; i--; ) {","\t\t\tthis.indicators[i].updatePosition();","\t\t}","\t}","","","// INSERT POINT: _translate","","\t},","","\t_initEvents: function (remove) {","\t\tvar eventType = remove ? utils.removeEvent : utils.addEvent,","\t\t\ttarget = this.options.bindToWrapper ? this.wrapper : window;","","\t\teventType(window, 'orientationchange', this);","\t\teventType(window, 'resize', this);","","\t\tif ( this.options.click ) {","\t\t\teventType(this.wrapper, 'click', this, true);","\t\t}","","\t\tif ( !this.options.disableMouse ) {","\t\t\teventType(this.wrapper, 'mousedown', this);","\t\t\teventType(target, 'mousemove', this);","\t\t\teventType(target, 'mousecancel', this);","\t\t\teventType(target, 'mouseup', this);","\t\t}","","\t\tif ( utils.hasPointer && !this.options.disablePointer ) {","\t\t\teventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);","\t\t\teventType(target, utils.prefixPointerEvent('pointermove'), this);","\t\t\teventType(target, utils.prefixPointerEvent('pointercancel'), this);","\t\t\teventType(target, utils.prefixPointerEvent('pointerup'), this);","\t\t}","","\t\tif ( utils.hasTouch && !this.options.disableTouch ) {","\t\t\teventType(this.wrapper, 'touchstart', this);","\t\t\teventType(target, 'touchmove', this);","\t\t\teventType(target, 'touchcancel', this);","\t\t\teventType(target, 'touchend', this);","\t\t}","","\t\teventType(this.scroller, 'transitionend', this);","\t\teventType(this.scroller, 'webkitTransitionEnd', this);","\t\teventType(this.scroller, 'oTransitionEnd', this);","\t\teventType(this.scroller, 'MSTransitionEnd', this);","\t},","","\tgetComputedPosition: function () {","\t\tvar matrix = window.getComputedStyle(this.scroller, null),","\t\t\tx, y;","","\t\tif ( this.options.useTransform ) {","\t\t\tmatrix = matrix[utils.style.transform].split(')')[0].split(', ');","\t\t\tx = +(matrix[12] || matrix[4]);","\t\t\ty = +(matrix[13] || matrix[5]);","\t\t} else {","\t\t\tx = +matrix.left.replace(/[^-\\d.]/g, '');","\t\t\ty = +matrix.top.replace(/[^-\\d.]/g, '');","\t\t}","","\t\treturn { x: x, y: y };","\t},","","\t_initIndicators: function () {","\t\tvar interactive = this.options.interactiveScrollbars,","\t\t\tcustomStyle = typeof this.options.scrollbars != 'string',","\t\t\tindicators = [],","\t\t\tindicator;","","\t\tvar that = this;","","\t\tthis.indicators = [];","","\t\tif ( this.options.scrollbars ) {","\t\t\t// Vertical scrollbar","\t\t\tif ( this.options.scrollY ) {","\t\t\t\tindicator = {","\t\t\t\t\tel: createDefaultScrollbar('v', interactive, this.options.scrollbars),","\t\t\t\t\tinteractive: interactive,","\t\t\t\t\tdefaultScrollbars: true,","\t\t\t\t\tcustomStyle: customStyle,","\t\t\t\t\tresize: this.options.resizeScrollbars,","\t\t\t\t\tshrink: this.options.shrinkScrollbars,","\t\t\t\t\tfade: this.options.fadeScrollbars,","\t\t\t\t\tlistenX: false","\t\t\t\t};","","\t\t\t\tthis.wrapper.appendChild(indicator.el);","\t\t\t\tindicators.push(indicator);","\t\t\t}","","\t\t\t// Horizontal scrollbar","\t\t\tif ( this.options.scrollX ) {","\t\t\t\tindicator = {","\t\t\t\t\tel: createDefaultScrollbar('h', interactive, this.options.scrollbars),","\t\t\t\t\tinteractive: interactive,","\t\t\t\t\tdefaultScrollbars: true,","\t\t\t\t\tcustomStyle: customStyle,","\t\t\t\t\tresize: this.options.resizeScrollbars,","\t\t\t\t\tshrink: this.options.shrinkScrollbars,","\t\t\t\t\tfade: this.options.fadeScrollbars,","\t\t\t\t\tlistenY: false","\t\t\t\t};","","\t\t\t\tthis.wrapper.appendChild(indicator.el);","\t\t\t\tindicators.push(indicator);","\t\t\t}","\t\t}","","\t\tif ( this.options.indicators ) {","\t\t\t// TODO: check concat compatibility","\t\t\tindicators = indicators.concat(this.options.indicators);","\t\t}","","\t\tfor ( var i = indicators.length; i--; ) {","\t\t\tthis.indicators.push( new Indicator(this, indicators[i]) );","\t\t}","","\t\t// TODO: check if we can use array.map (wide compatibility and performance issues)","\t\tfunction _indicatorsMap (fn) {","\t\t\tfor ( var i = that.indicators.length; i--; ) {","\t\t\t\tfn.call(that.indicators[i]);","\t\t\t}","\t\t}","","\t\tif ( this.options.fadeScrollbars ) {","\t\t\tthis.on('scrollEnd', function () {","\t\t\t\t_indicatorsMap(function () {","\t\t\t\t\tthis.fade();","\t\t\t\t});","\t\t\t});","","\t\t\tthis.on('scrollCancel', function () {","\t\t\t\t_indicatorsMap(function () {","\t\t\t\t\tthis.fade();","\t\t\t\t});","\t\t\t});","","\t\t\tthis.on('scrollStart', function () {","\t\t\t\t_indicatorsMap(function () {","\t\t\t\t\tthis.fade(1);","\t\t\t\t});","\t\t\t});","","\t\t\tthis.on('beforeScrollStart', function () {","\t\t\t\t_indicatorsMap(function () {","\t\t\t\t\tthis.fade(1, true);","\t\t\t\t});","\t\t\t});","\t\t}","","","\t\tthis.on('refresh', function () {","\t\t\t_indicatorsMap(function () {","\t\t\t\tthis.refresh();","\t\t\t});","\t\t});","","\t\tthis.on('destroy', function () {","\t\t\t_indicatorsMap(function () {","\t\t\t\tthis.destroy();","\t\t\t});","","\t\t\tdelete this.indicators;","\t\t});","\t},","","\t_initWheel: function () {","\t\tutils.addEvent(this.wrapper, 'wheel', this);","\t\tutils.addEvent(this.wrapper, 'mousewheel', this);","\t\tutils.addEvent(this.wrapper, 'DOMMouseScroll', this);","","\t\tthis.on('destroy', function () {","\t\t\tutils.removeEvent(this.wrapper, 'wheel', this);","\t\t\tutils.removeEvent(this.wrapper, 'mousewheel', this);","\t\t\tutils.removeEvent(this.wrapper, 'DOMMouseScroll', this);","\t\t});","\t},","","\t_wheel: function (e) {","\t\tif ( !this.enabled ) {","\t\t\treturn;","\t\t}","","\t\te.preventDefault();","\t\te.stopPropagation();","","\t\tvar wheelDeltaX, wheelDeltaY,","\t\t\tnewX, newY,","\t\t\tthat = this;","","\t\tif ( this.wheelTimeout === undefined ) {","\t\t\tthat._execEvent('scrollStart');","\t\t}","","\t\t// Execute the scrollEnd event after 400ms the wheel stopped scrolling","\t\tclearTimeout(this.wheelTimeout);","\t\tthis.wheelTimeout = setTimeout(function () {","\t\t\tthat._execEvent('scrollEnd');","\t\t\tthat.wheelTimeout = undefined;","\t\t}, 400);","","\t\tif ( 'deltaX' in e ) {","\t\t\tif (e.deltaMode === 1) {","\t\t\t\twheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;","\t\t\t\twheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;","\t\t\t} else {","\t\t\t\twheelDeltaX = -e.deltaX;","\t\t\t\twheelDeltaY = -e.deltaY;","\t\t\t}","\t\t} else if ( 'wheelDeltaX' in e ) {","\t\t\twheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;","\t\t\twheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;","\t\t} else if ( 'wheelDelta' in e ) {","\t\t\twheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;","\t\t} else if ( 'detail' in e ) {","\t\t\twheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;","\t\t} else {","\t\t\treturn;","\t\t}","","\t\twheelDeltaX *= this.options.invertWheelDirection;","\t\twheelDeltaY *= this.options.invertWheelDirection;","","\t\tif ( !this.hasVerticalScroll ) {","\t\t\twheelDeltaX = wheelDeltaY;","\t\t\twheelDeltaY = 0;","\t\t}","","\t\tif ( this.options.snap ) {","\t\t\tnewX = this.currentPage.pageX;","\t\t\tnewY = this.currentPage.pageY;","","\t\t\tif ( wheelDeltaX > 0 ) {","\t\t\t\tnewX--;","\t\t\t} else if ( wheelDeltaX < 0 ) {","\t\t\t\tnewX++;","\t\t\t}","","\t\t\tif ( wheelDeltaY > 0 ) {","\t\t\t\tnewY--;","\t\t\t} else if ( wheelDeltaY < 0 ) {","\t\t\t\tnewY++;","\t\t\t}","","\t\t\tthis.goToPage(newX, newY);","","\t\t\treturn;","\t\t}","","\t\tnewX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);","\t\tnewY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);","","\t\tif ( newX > 0 ) {","\t\t\tnewX = 0;","\t\t} else if ( newX < this.maxScrollX ) {","\t\t\tnewX = this.maxScrollX;","\t\t}","","\t\tif ( newY > 0 ) {","\t\t\tnewY = 0;","\t\t} else if ( newY < this.maxScrollY ) {","\t\t\tnewY = this.maxScrollY;","\t\t}","","\t\tthis.scrollTo(newX, newY, 0);","","// INSERT POINT: _wheel","\t},","","\t_initSnap: function () {","\t\tthis.currentPage = {};","","\t\tif ( typeof this.options.snap == 'string' ) {","\t\t\tthis.options.snap = this.scroller.querySelectorAll(this.options.snap);","\t\t}","","\t\tthis.on('refresh', function () {","\t\t\tvar i = 0, l,","\t\t\t\tm = 0, n,","\t\t\t\tcx, cy,","\t\t\t\tx = 0, y,","\t\t\t\tstepX = this.options.snapStepX || this.wrapperWidth,","\t\t\t\tstepY = this.options.snapStepY || this.wrapperHeight,","\t\t\t\tel;","","\t\t\tthis.pages = [];","","\t\t\tif ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {","\t\t\t\treturn;","\t\t\t}","","\t\t\tif ( this.options.snap === true ) {","\t\t\t\tcx = Math.round( stepX / 2 );","\t\t\t\tcy = Math.round( stepY / 2 );","","\t\t\t\twhile ( x > -this.scrollerWidth ) {","\t\t\t\t\tthis.pages[i] = [];","\t\t\t\t\tl = 0;","\t\t\t\t\ty = 0;","","\t\t\t\t\twhile ( y > -this.scrollerHeight ) {","\t\t\t\t\t\tthis.pages[i][l] = {","\t\t\t\t\t\t\tx: Math.max(x, this.maxScrollX),","\t\t\t\t\t\t\ty: Math.max(y, this.maxScrollY),","\t\t\t\t\t\t\twidth: stepX,","\t\t\t\t\t\t\theight: stepY,","\t\t\t\t\t\t\tcx: x - cx,","\t\t\t\t\t\t\tcy: y - cy","\t\t\t\t\t\t};","","\t\t\t\t\t\ty -= stepY;","\t\t\t\t\t\tl++;","\t\t\t\t\t}","","\t\t\t\t\tx -= stepX;","\t\t\t\t\ti++;","\t\t\t\t}","\t\t\t} else {","\t\t\t\tel = this.options.snap;","\t\t\t\tl = el.length;","\t\t\t\tn = -1;","","\t\t\t\tfor ( ; i < l; i++ ) {","\t\t\t\t\tif ( i === 0 || el[i].offsetLeft <= el[i-1].offsetLeft ) {","\t\t\t\t\t\tm = 0;","\t\t\t\t\t\tn++;","\t\t\t\t\t}","","\t\t\t\t\tif ( !this.pages[m] ) {","\t\t\t\t\t\tthis.pages[m] = [];","\t\t\t\t\t}","","\t\t\t\t\tx = Math.max(-el[i].offsetLeft, this.maxScrollX);","\t\t\t\t\ty = Math.max(-el[i].offsetTop, this.maxScrollY);","\t\t\t\t\tcx = x - Math.round(el[i].offsetWidth / 2);","\t\t\t\t\tcy = y - Math.round(el[i].offsetHeight / 2);","","\t\t\t\t\tthis.pages[m][n] = {","\t\t\t\t\t\tx: x,","\t\t\t\t\t\ty: y,","\t\t\t\t\t\twidth: el[i].offsetWidth,","\t\t\t\t\t\theight: el[i].offsetHeight,","\t\t\t\t\t\tcx: cx,","\t\t\t\t\t\tcy: cy","\t\t\t\t\t};","","\t\t\t\t\tif ( x > this.maxScrollX ) {","\t\t\t\t\t\tm++;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t}","","\t\t\tthis.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);","","\t\t\t// Update snap threshold if needed","\t\t\tif ( this.options.snapThreshold % 1 === 0 ) {","\t\t\t\tthis.snapThresholdX = this.options.snapThreshold;","\t\t\t\tthis.snapThresholdY = this.options.snapThreshold;","\t\t\t} else {","\t\t\t\tthis.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);","\t\t\t\tthis.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);","\t\t\t}","\t\t});","","\t\tthis.on('flick', function () {","\t\t\tvar time = this.options.snapSpeed || Math.max(","\t\t\t\t\tMath.max(","\t\t\t\t\t\tMath.min(Math.abs(this.x - this.startX), 1000),","\t\t\t\t\t\tMath.min(Math.abs(this.y - this.startY), 1000)","\t\t\t\t\t), 300);","","\t\t\tthis.goToPage(","\t\t\t\tthis.currentPage.pageX + this.directionX,","\t\t\t\tthis.currentPage.pageY + this.directionY,","\t\t\t\ttime","\t\t\t);","\t\t});","\t},","","\t_nearestSnap: function (x, y) {","\t\tif ( !this.pages.length ) {","\t\t\treturn { x: 0, y: 0, pageX: 0, pageY: 0 };","\t\t}","","\t\tvar i = 0,","\t\t\tl = this.pages.length,","\t\t\tm = 0;","","\t\t// Check if we exceeded the snap threshold","\t\tif ( Math.abs(x - this.absStartX) < this.snapThresholdX &&","\t\t\tMath.abs(y - this.absStartY) < this.snapThresholdY ) {","\t\t\treturn this.currentPage;","\t\t}","","\t\tif ( x > 0 ) {","\t\t\tx = 0;","\t\t} else if ( x < this.maxScrollX ) {","\t\t\tx = this.maxScrollX;","\t\t}","","\t\tif ( y > 0 ) {","\t\t\ty = 0;","\t\t} else if ( y < this.maxScrollY ) {","\t\t\ty = this.maxScrollY;","\t\t}","","\t\tfor ( ; i < l; i++ ) {","\t\t\tif ( x >= this.pages[i][0].cx ) {","\t\t\t\tx = this.pages[i][0].x;","\t\t\t\tbreak;","\t\t\t}","\t\t}","","\t\tl = this.pages[i].length;","","\t\tfor ( ; m < l; m++ ) {","\t\t\tif ( y >= this.pages[0][m].cy ) {","\t\t\t\ty = this.pages[0][m].y;","\t\t\t\tbreak;","\t\t\t}","\t\t}","","\t\tif ( i == this.currentPage.pageX ) {","\t\t\ti += this.directionX;","","\t\t\tif ( i < 0 ) {","\t\t\t\ti = 0;","\t\t\t} else if ( i >= this.pages.length ) {","\t\t\t\ti = this.pages.length - 1;","\t\t\t}","","\t\t\tx = this.pages[i][0].x;","\t\t}","","\t\tif ( m == this.currentPage.pageY ) {","\t\t\tm += this.directionY;","","\t\t\tif ( m < 0 ) {","\t\t\t\tm = 0;","\t\t\t} else if ( m >= this.pages[0].length ) {","\t\t\t\tm = this.pages[0].length - 1;","\t\t\t}","","\t\t\ty = this.pages[0][m].y;","\t\t}","","\t\treturn {","\t\t\tx: x,","\t\t\ty: y,","\t\t\tpageX: i,","\t\t\tpageY: m","\t\t};","\t},","","\tgoToPage: function (x, y, time, easing) {","\t\teasing = easing || this.options.bounceEasing;","","\t\tif ( x >= this.pages.length ) {","\t\t\tx = this.pages.length - 1;","\t\t} else if ( x < 0 ) {","\t\t\tx = 0;","\t\t}","","\t\tif ( y >= this.pages[x].length ) {","\t\t\ty = this.pages[x].length - 1;","\t\t} else if ( y < 0 ) {","\t\t\ty = 0;","\t\t}","","\t\tvar posX = this.pages[x][y].x,","\t\t\tposY = this.pages[x][y].y;","","\t\ttime = time === undefined ? this.options.snapSpeed || Math.max(","\t\t\tMath.max(","\t\t\t\tMath.min(Math.abs(posX - this.x), 1000),","\t\t\t\tMath.min(Math.abs(posY - this.y), 1000)","\t\t\t), 300) : time;","","\t\tthis.currentPage = {","\t\t\tx: posX,","\t\t\ty: posY,","\t\t\tpageX: x,","\t\t\tpageY: y","\t\t};","","\t\tthis.scrollTo(posX, posY, time, easing);","\t},","","\tnext: function (time, easing) {","\t\tvar x = this.currentPage.pageX,","\t\t\ty = this.currentPage.pageY;","","\t\tx++;","","\t\tif ( x >= this.pages.length && this.hasVerticalScroll ) {","\t\t\tx = 0;","\t\t\ty++;","\t\t}","","\t\tthis.goToPage(x, y, time, easing);","\t},","","\tprev: function (time, easing) {","\t\tvar x = this.currentPage.pageX,","\t\t\ty = this.currentPage.pageY;","","\t\tx--;","","\t\tif ( x < 0 && this.hasVerticalScroll ) {","\t\t\tx = 0;","\t\t\ty--;","\t\t}","","\t\tthis.goToPage(x, y, time, easing);","\t},","","\t_initKeys: function (e) {","\t\t// default key bindings","\t\tvar keys = {","\t\t\tpageUp: 33,","\t\t\tpageDown: 34,","\t\t\tend: 35,","\t\t\thome: 36,","\t\t\tleft: 37,","\t\t\tup: 38,","\t\t\tright: 39,","\t\t\tdown: 40","\t\t};","\t\tvar i;","","\t\t// if you give me characters I give you keycode","\t\tif ( typeof this.options.keyBindings == 'object' ) {","\t\t\tfor ( i in this.options.keyBindings ) {","\t\t\t\tif ( typeof this.options.keyBindings[i] == 'string' ) {","\t\t\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);","\t\t\t\t}","\t\t\t}","\t\t} else {","\t\t\tthis.options.keyBindings = {};","\t\t}","","\t\tfor ( i in keys ) {","\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];","\t\t}","","\t\tutils.addEvent(window, 'keydown', this);","","\t\tthis.on('destroy', function () {","\t\t\tutils.removeEvent(window, 'keydown', this);","\t\t});","\t},","","\t_key: function (e) {","\t\tif ( !this.enabled ) {","\t\t\treturn;","\t\t}","","\t\tvar snap = this.options.snap,\t// we are using this alot, better to cache it","\t\t\tnewX = snap ? this.currentPage.pageX : this.x,","\t\t\tnewY = snap ? this.currentPage.pageY : this.y,","\t\t\tnow = utils.getTime(),","\t\t\tprevTime = this.keyTime || 0,","\t\t\tacceleration = 0.250,","\t\t\tpos;","","\t\tif ( this.options.useTransition && this.isInTransition ) {","\t\t\tpos = this.getComputedPosition();","","\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));","\t\t\tthis.isInTransition = false;","\t\t}","","\t\tthis.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;","","\t\tswitch ( e.keyCode ) {","\t\t\tcase this.options.keyBindings.pageUp:","\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {","\t\t\t\t\tnewX += snap ? 1 : this.wrapperWidth;","\t\t\t\t} else {","\t\t\t\t\tnewY += snap ? 1 : this.wrapperHeight;","\t\t\t\t}","\t\t\t\tbreak;","\t\t\tcase this.options.keyBindings.pageDown:","\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {","\t\t\t\t\tnewX -= snap ? 1 : this.wrapperWidth;","\t\t\t\t} else {","\t\t\t\t\tnewY -= snap ? 1 : this.wrapperHeight;","\t\t\t\t}","\t\t\t\tbreak;","\t\t\tcase this.options.keyBindings.end:","\t\t\t\tnewX = snap ? this.pages.length-1 : this.maxScrollX;","\t\t\t\tnewY = snap ? this.pages[0].length-1 : this.maxScrollY;","\t\t\t\tbreak;","\t\t\tcase this.options.keyBindings.home:","\t\t\t\tnewX = 0;","\t\t\t\tnewY = 0;","\t\t\t\tbreak;","\t\t\tcase this.options.keyBindings.left:","\t\t\t\tnewX += snap ? -1 : 5 + this.keyAcceleration>>0;","\t\t\t\tbreak;","\t\t\tcase this.options.keyBindings.up:","\t\t\t\tnewY += snap ? 1 : 5 + this.keyAcceleration>>0;","\t\t\t\tbreak;","\t\t\tcase this.options.keyBindings.right:","\t\t\t\tnewX -= snap ? -1 : 5 + this.keyAcceleration>>0;","\t\t\t\tbreak;","\t\t\tcase this.options.keyBindings.down:","\t\t\t\tnewY -= snap ? 1 : 5 + this.keyAcceleration>>0;","\t\t\t\tbreak;","\t\t\tdefault:","\t\t\t\treturn;","\t\t}","","\t\tif ( snap ) {","\t\t\tthis.goToPage(newX, newY);","\t\t\treturn;","\t\t}","","\t\tif ( newX > 0 ) {","\t\t\tnewX = 0;","\t\t\tthis.keyAcceleration = 0;","\t\t} else if ( newX < this.maxScrollX ) {","\t\t\tnewX = this.maxScrollX;","\t\t\tthis.keyAcceleration = 0;","\t\t}","","\t\tif ( newY > 0 ) {","\t\t\tnewY = 0;","\t\t\tthis.keyAcceleration = 0;","\t\t} else if ( newY < this.maxScrollY ) {","\t\t\tnewY = this.maxScrollY;","\t\t\tthis.keyAcceleration = 0;","\t\t}","","\t\tthis.scrollTo(newX, newY, 0);","","\t\tthis.keyTime = now;","\t},","","\t_animate: function (destX, destY, duration, easingFn) {","\t\tvar that = this,","\t\t\tstartX = this.x,","\t\t\tstartY = this.y,","\t\t\tstartTime = utils.getTime(),","\t\t\tdestTime = startTime + duration;","","\t\tfunction step () {","\t\t\tvar now = utils.getTime(),","\t\t\t\tnewX, newY,","\t\t\t\teasing;","","\t\t\tif ( now >= destTime ) {","\t\t\t\tthat.isAnimating = false;","\t\t\t\tthat._translate(destX, destY);","","\t\t\t\tif ( !that.resetPosition(that.options.bounceTime) ) {","\t\t\t\t\tthat._execEvent('scrollEnd');","\t\t\t\t}","","\t\t\t\treturn;","\t\t\t}","","\t\t\tnow = ( now - startTime ) / duration;","\t\t\teasing = easingFn(now);","\t\t\tnewX = ( destX - startX ) * easing + startX;","\t\t\tnewY = ( destY - startY ) * easing + startY;","\t\t\tthat._translate(newX, newY);","","\t\t\tif ( that.isAnimating ) {","\t\t\t\trAF(step);","\t\t\t}","\t\t}","","\t\tthis.isAnimating = true;","\t\tstep();","\t},","\thandleEvent: function (e) {","\t\tswitch ( e.type ) {","\t\t\tcase 'touchstart':","\t\t\tcase 'pointerdown':","\t\t\tcase 'MSPointerDown':","\t\t\tcase 'mousedown':","\t\t\t\tthis._start(e);","\t\t\t\tbreak;","\t\t\tcase 'touchmove':","\t\t\tcase 'pointermove':","\t\t\tcase 'MSPointerMove':","\t\t\tcase 'mousemove':","\t\t\t\tthis._move(e);","\t\t\t\tbreak;","\t\t\tcase 'touchend':","\t\t\tcase 'pointerup':","\t\t\tcase 'MSPointerUp':","\t\t\tcase 'mouseup':","\t\t\tcase 'touchcancel':","\t\t\tcase 'pointercancel':","\t\t\tcase 'MSPointerCancel':","\t\t\tcase 'mousecancel':","\t\t\t\tthis._end(e);","\t\t\t\tbreak;","\t\t\tcase 'orientationchange':","\t\t\tcase 'resize':","\t\t\t\tthis._resize();","\t\t\t\tbreak;","\t\t\tcase 'transitionend':","\t\t\tcase 'webkitTransitionEnd':","\t\t\tcase 'oTransitionEnd':","\t\t\tcase 'MSTransitionEnd':","\t\t\t\tthis._transitionEnd(e);","\t\t\t\tbreak;","\t\t\tcase 'wheel':","\t\t\tcase 'DOMMouseScroll':","\t\t\tcase 'mousewheel':","\t\t\t\tthis._wheel(e);","\t\t\t\tbreak;","\t\t\tcase 'keydown':","\t\t\t\tthis._key(e);","\t\t\t\tbreak;","\t\t\tcase 'click':","\t\t\t\tif ( !e._constructed ) {","\t\t\t\t\te.preventDefault();","\t\t\t\t\te.stopPropagation();","\t\t\t\t}","\t\t\t\tbreak;","\t\t}","\t}","};","function createDefaultScrollbar (direction, interactive, type) {","\tvar scrollbar = document.createElement('div'),","\t\tindicator = document.createElement('div');","","\tif ( type === true ) {","\t\tscrollbar.style.cssText = 'position:absolute;z-index:9999';","\t\tindicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';","\t}","","\tindicator.className = 'iScrollIndicator';","","\tif ( direction == 'h' ) {","\t\tif ( type === true ) {","\t\t\tscrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';","\t\t\tindicator.style.height = '100%';","\t\t}","\t\tscrollbar.className = 'iScrollHorizontalScrollbar';","\t} else {","\t\tif ( type === true ) {","\t\t\tscrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';","\t\t\tindicator.style.width = '100%';","\t\t}","\t\tscrollbar.className = 'iScrollVerticalScrollbar';","\t}","","\tscrollbar.style.cssText += ';overflow:hidden';","","\tif ( !interactive ) {","\t\tscrollbar.style.pointerEvents = 'none';","\t}","","\tscrollbar.appendChild(indicator);","","\treturn scrollbar;","}","","function Indicator (scroller, options) {","\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;","\tthis.wrapperStyle = this.wrapper.style;","\tthis.indicator = this.wrapper.children[0];","\tthis.indicatorStyle = this.indicator.style;","\tthis.scroller = scroller;","","\tthis.options = {","\t\tlistenX: true,","\t\tlistenY: true,","\t\tinteractive: false,","\t\tresize: true,","\t\tdefaultScrollbars: false,","\t\tshrink: false,","\t\tfade: false,","\t\tspeedRatioX: 0,","\t\tspeedRatioY: 0","\t};","","\tfor ( var i in options ) {","\t\tthis.options[i] = options[i];","\t}","","\tthis.sizeRatioX = 1;","\tthis.sizeRatioY = 1;","\tthis.maxPosX = 0;","\tthis.maxPosY = 0;","","\tif ( this.options.interactive ) {","\t\tif ( !this.options.disableTouch ) {","\t\t\tutils.addEvent(this.indicator, 'touchstart', this);","\t\t\tutils.addEvent(window, 'touchend', this);","\t\t}","\t\tif ( !this.options.disablePointer ) {","\t\t\tutils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);","\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);","\t\t}","\t\tif ( !this.options.disableMouse ) {","\t\t\tutils.addEvent(this.indicator, 'mousedown', this);","\t\t\tutils.addEvent(window, 'mouseup', this);","\t\t}","\t}","","\tif ( this.options.fade ) {","\t\tthis.wrapperStyle[utils.style.transform] = this.scroller.translateZ;","\t\tthis.wrapperStyle[utils.style.transitionDuration] = utils.isBadAndroid ? '0.001s' : '0ms';","\t\tthis.wrapperStyle.opacity = '0';","\t}","}","","Indicator.prototype = {","\thandleEvent: function (e) {","\t\tswitch ( e.type ) {","\t\t\tcase 'touchstart':","\t\t\tcase 'pointerdown':","\t\t\tcase 'MSPointerDown':","\t\t\tcase 'mousedown':","\t\t\t\tthis._start(e);","\t\t\t\tbreak;","\t\t\tcase 'touchmove':","\t\t\tcase 'pointermove':","\t\t\tcase 'MSPointerMove':","\t\t\tcase 'mousemove':","\t\t\t\tthis._move(e);","\t\t\t\tbreak;","\t\t\tcase 'touchend':","\t\t\tcase 'pointerup':","\t\t\tcase 'MSPointerUp':","\t\t\tcase 'mouseup':","\t\t\tcase 'touchcancel':","\t\t\tcase 'pointercancel':","\t\t\tcase 'MSPointerCancel':","\t\t\tcase 'mousecancel':","\t\t\t\tthis._end(e);","\t\t\t\tbreak;","\t\t}","\t},","","\tdestroy: function () {","\t\tif ( this.options.interactive ) {","\t\t\tutils.removeEvent(this.indicator, 'touchstart', this);","\t\t\tutils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);","\t\t\tutils.removeEvent(this.indicator, 'mousedown', this);","","\t\t\tutils.removeEvent(window, 'touchmove', this);","\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);","\t\t\tutils.removeEvent(window, 'mousemove', this);","","\t\t\tutils.removeEvent(window, 'touchend', this);","\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);","\t\t\tutils.removeEvent(window, 'mouseup', this);","\t\t}","","\t\tif ( this.options.defaultScrollbars ) {","\t\t\tthis.wrapper.parentNode.removeChild(this.wrapper);","\t\t}","\t},","","\t_start: function (e) {","\t\tvar point = e.touches ? e.touches[0] : e;","","\t\te.preventDefault();","\t\te.stopPropagation();","","\t\tthis.transitionTime();","","\t\tthis.initiated = true;","\t\tthis.moved = false;","\t\tthis.lastPointX\t= point.pageX;","\t\tthis.lastPointY\t= point.pageY;","","\t\tthis.startTime\t= utils.getTime();","","\t\tif ( !this.options.disableTouch ) {","\t\t\tutils.addEvent(window, 'touchmove', this);","\t\t}","\t\tif ( !this.options.disablePointer ) {","\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);","\t\t}","\t\tif ( !this.options.disableMouse ) {","\t\t\tutils.addEvent(window, 'mousemove', this);","\t\t}","","\t\tthis.scroller._execEvent('beforeScrollStart');","\t},","","\t_move: function (e) {","\t\tvar point = e.touches ? e.touches[0] : e,","\t\t\tdeltaX, deltaY,","\t\t\tnewX, newY,","\t\t\ttimestamp = utils.getTime();","","\t\tif ( !this.moved ) {","\t\t\tthis.scroller._execEvent('scrollStart');","\t\t}","","\t\tthis.moved = true;","","\t\tdeltaX = point.pageX - this.lastPointX;","\t\tthis.lastPointX = point.pageX;","","\t\tdeltaY = point.pageY - this.lastPointY;","\t\tthis.lastPointY = point.pageY;","","\t\tnewX = this.x + deltaX;","\t\tnewY = this.y + deltaY;","","\t\tthis._pos(newX, newY);","","// INSERT POINT: indicator._move","","\t\te.preventDefault();","\t\te.stopPropagation();","\t},","","\t_end: function (e) {","\t\tif ( !this.initiated ) {","\t\t\treturn;","\t\t}","","\t\tthis.initiated = false;","","\t\te.preventDefault();","\t\te.stopPropagation();","","\t\tutils.removeEvent(window, 'touchmove', this);","\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);","\t\tutils.removeEvent(window, 'mousemove', this);","","\t\tif ( this.scroller.options.snap ) {","\t\t\tvar snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);","","\t\t\tvar time = this.options.snapSpeed || Math.max(","\t\t\t\t\tMath.max(","\t\t\t\t\t\tMath.min(Math.abs(this.scroller.x - snap.x), 1000),","\t\t\t\t\t\tMath.min(Math.abs(this.scroller.y - snap.y), 1000)","\t\t\t\t\t), 300);","","\t\t\tif ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {","\t\t\t\tthis.scroller.directionX = 0;","\t\t\t\tthis.scroller.directionY = 0;","\t\t\t\tthis.scroller.currentPage = snap;","\t\t\t\tthis.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);","\t\t\t}","\t\t}","","\t\tif ( this.moved ) {","\t\t\tthis.scroller._execEvent('scrollEnd');","\t\t}","\t},","","\ttransitionTime: function (time) {","\t\ttime = time || 0;","\t\tthis.indicatorStyle[utils.style.transitionDuration] = time + 'ms';","","\t\tif ( !time && utils.isBadAndroid ) {","\t\t\tthis.indicatorStyle[utils.style.transitionDuration] = '0.001s';","\t\t}","\t},","","\ttransitionTimingFunction: function (easing) {","\t\tthis.indicatorStyle[utils.style.transitionTimingFunction] = easing;","\t},","","\trefresh: function () {","\t\tthis.transitionTime();","","\t\tif ( this.options.listenX && !this.options.listenY ) {","\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';","\t\t} else if ( this.options.listenY && !this.options.listenX ) {","\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';","\t\t} else {","\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';","\t\t}","","\t\tif ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {","\t\t\tutils.addClass(this.wrapper, 'iScrollBothScrollbars');","\t\t\tutils.removeClass(this.wrapper, 'iScrollLoneScrollbar');","","\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {","\t\t\t\tif ( this.options.listenX ) {","\t\t\t\t\tthis.wrapper.style.right = '8px';","\t\t\t\t} else {","\t\t\t\t\tthis.wrapper.style.bottom = '8px';","\t\t\t\t}","\t\t\t}","\t\t} else {","\t\t\tutils.removeClass(this.wrapper, 'iScrollBothScrollbars');","\t\t\tutils.addClass(this.wrapper, 'iScrollLoneScrollbar');","","\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {","\t\t\t\tif ( this.options.listenX ) {","\t\t\t\t\tthis.wrapper.style.right = '2px';","\t\t\t\t} else {","\t\t\t\t\tthis.wrapper.style.bottom = '2px';","\t\t\t\t}","\t\t\t}","\t\t}","","\t\tvar r = this.wrapper.offsetHeight;\t// force refresh","","\t\tif ( this.options.listenX ) {","\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;","\t\t\tif ( this.options.resize ) {","\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);","\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';","\t\t\t} else {","\t\t\t\tthis.indicatorWidth = this.indicator.clientWidth;","\t\t\t}","","\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;","","\t\t\tif ( this.options.shrink == 'clip' ) {","\t\t\t\tthis.minBoundaryX = -this.indicatorWidth + 8;","\t\t\t\tthis.maxBoundaryX = this.wrapperWidth - 8;","\t\t\t} else {","\t\t\t\tthis.minBoundaryX = 0;","\t\t\t\tthis.maxBoundaryX = this.maxPosX;","\t\t\t}","","\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\t","\t\t}","","\t\tif ( this.options.listenY ) {","\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;","\t\t\tif ( this.options.resize ) {","\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);","\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';","\t\t\t} else {","\t\t\t\tthis.indicatorHeight = this.indicator.clientHeight;","\t\t\t}","","\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;","","\t\t\tif ( this.options.shrink == 'clip' ) {","\t\t\t\tthis.minBoundaryY = -this.indicatorHeight + 8;","\t\t\t\tthis.maxBoundaryY = this.wrapperHeight - 8;","\t\t\t} else {","\t\t\t\tthis.minBoundaryY = 0;","\t\t\t\tthis.maxBoundaryY = this.maxPosY;","\t\t\t}","","\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;","\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));","\t\t}","","\t\tthis.updatePosition();","\t},","","\tupdatePosition: function () {","\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,","\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;","","\t\tif ( !this.options.ignoreBoundaries ) {","\t\t\tif ( x < this.minBoundaryX ) {","\t\t\t\tif ( this.options.shrink == 'scale' ) {","\t\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);","\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';","\t\t\t\t}","\t\t\t\tx = this.minBoundaryX;","\t\t\t} else if ( x > this.maxBoundaryX ) {","\t\t\t\tif ( this.options.shrink == 'scale' ) {","\t\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);","\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';","\t\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;","\t\t\t\t} else {","\t\t\t\t\tx = this.maxBoundaryX;","\t\t\t\t}","\t\t\t} else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {","\t\t\t\tthis.width = this.indicatorWidth;","\t\t\t\tthis.indicatorStyle.width = this.width + 'px';","\t\t\t}","","\t\t\tif ( y < this.minBoundaryY ) {","\t\t\t\tif ( this.options.shrink == 'scale' ) {","\t\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);","\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';","\t\t\t\t}","\t\t\t\ty = this.minBoundaryY;","\t\t\t} else if ( y > this.maxBoundaryY ) {","\t\t\t\tif ( this.options.shrink == 'scale' ) {","\t\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);","\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';","\t\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;","\t\t\t\t} else {","\t\t\t\t\ty = this.maxBoundaryY;","\t\t\t\t}","\t\t\t} else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {","\t\t\t\tthis.height = this.indicatorHeight;","\t\t\t\tthis.indicatorStyle.height = this.height + 'px';","\t\t\t}","\t\t}","","\t\tthis.x = x;","\t\tthis.y = y;","","\t\tif ( this.scroller.options.useTransform ) {","\t\t\tthis.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;","\t\t} else {","\t\t\tthis.indicatorStyle.left = x + 'px';","\t\t\tthis.indicatorStyle.top = y + 'px';","\t\t}","\t},","","\t_pos: function (x, y) {","\t\tif ( x < 0 ) {","\t\t\tx = 0;","\t\t} else if ( x > this.maxPosX ) {","\t\t\tx = this.maxPosX;","\t\t}","","\t\tif ( y < 0 ) {","\t\t\ty = 0;","\t\t} else if ( y > this.maxPosY ) {","\t\t\ty = this.maxPosY;","\t\t}","","\t\tx = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;","\t\ty = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;","","\t\tthis.scroller.scrollTo(x, y);","\t},","","\tfade: function (val, hold) {","\t\tif ( hold && !this.visible ) {","\t\t\treturn;","\t\t}","","\t\tclearTimeout(this.fadeTimeout);","\t\tthis.fadeTimeout = null;","","\t\tvar time = val ? 250 : 500,","\t\t\tdelay = val ? 0 : 300;","","\t\tval = val ? '1' : '0';","","\t\tthis.wrapperStyle[utils.style.transitionDuration] = time + 'ms';","","\t\tthis.fadeTimeout = setTimeout((function (val) {","\t\t\tthis.wrapperStyle.opacity = val;","\t\t\tthis.visible = +val;","\t\t}).bind(this, val), delay);","\t}","};","","IScroll.utils = utils;","","if ( typeof module != 'undefined' && module.exports ) {","\tmodule.exports = IScroll;","} else {","\twindow.IScroll = IScroll;","}","","})(window, document, Math);"],"id":2},{"start":{"row":0,"column":0},"end":{"row":1,"column":31734},"action":"insert","lines":["/*! iScroll v5.1.1 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */","!function(a,b,c){function f(a,c){this.wrapper=\"string\"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:\"\",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&e.hasPerspective?\" translateZ(0)\":\"\",this.options.useTransition=e.hasTransition&&this.options.useTransition,this.options.useTransform=e.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?\"vertical\":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=\"vertical\"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX=\"horizontal\"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=\"string\"==typeof this.options.bounceEasing?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap=\"tap\"),\"scale\"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function g(a,c,d){var e=b.createElement(\"div\"),f=b.createElement(\"div\");return d===!0&&(e.style.cssText=\"position:absolute;z-index:9999\",f.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px\"),f.className=\"iScrollIndicator\",\"h\"==a?(d===!0&&(e.style.cssText+=\";height:7px;left:2px;right:2px;bottom:0\",f.style.height=\"100%\"),e.className=\"iScrollHorizontalScrollbar\"):(d===!0&&(e.style.cssText+=\";width:7px;bottom:2px;top:2px;right:1px\",f.style.width=\"100%\"),e.className=\"iScrollVerticalScrollbar\"),e.style.cssText+=\";overflow:hidden\",c||(e.style.pointerEvents=\"none\"),e.appendChild(f),e}function h(c,d){this.wrapper=\"string\"==typeof d.el?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var f in d)this.options[f]=d[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,\"touchstart\",this),e.addEvent(a,\"touchend\",this)),this.options.disablePointer||(e.addEvent(this.indicator,\"MSPointerDown\",this),e.addEvent(a,\"MSPointerUp\",this)),this.options.disableMouse||(e.addEvent(this.indicator,\"mousedown\",this),e.addEvent(a,\"mouseup\",this))),this.options.fade&&(this.wrapperStyle[e.style.transform]=this.scroller.translateZ,this.wrapperStyle[e.style.transitionDuration]=e.isBadAndroid?\"0.001s\":\"0ms\",this.wrapperStyle.opacity=\"0\")}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},e=function(){function g(a){return f===!1?!1:\"\"===f?a:f+a.charAt(0).toUpperCase()+a.substr(1)}var d={},e=b.createElement(\"div\").style,f=function(){for(var b,a=[\"t\",\"webkitT\",\"MozT\",\"msT\",\"OT\"],c=0,d=a.length;d>c;c++)if(b=a[c]+\"ransform\",b in e)return a[c].substr(0,a[c].length-1);return!1}();d.getTime=Date.now||function(){return(new Date).getTime()},d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},d.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},d.momentum=function(a,b,d,e,f,g){var j,k,h=a-b,i=c.abs(h)/d;return g=void 0===g?6e-4:g,j=a+i*i/(2*g)*(0>h?-1:1),k=i/g,e>j?(j=f?e-f/2.5*(i/8):e,h=c.abs(j-a),k=h/i):j>0&&(j=f?f/2.5*(i/8):0,h=c.abs(a)+j,k=h/i),{destination:c.round(j),duration:k}};var h=g(\"transform\");return d.extend(d,{hasTransform:h!==!1,hasPerspective:g(\"perspective\")in e,hasTouch:\"ontouchstart\"in a,hasPointer:navigator.msPointerEnabled,hasTransition:g(\"transition\")in e}),d.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\\/\\d/.test(a.navigator.appVersion),d.extend(d.style={},{transform:h,transitionTimingFunction:g(\"transitionTimingFunction\"),transitionDuration:g(\"transitionDuration\"),transitionDelay:g(\"transitionDelay\"),transformOrigin:g(\"transformOrigin\")}),d.hasClass=function(a,b){var c=new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\");return c.test(a.className)},d.addClass=function(a,b){if(!d.hasClass(a,b)){var c=a.className.split(\" \");c.push(b),a.className=c.join(\" \")}},d.removeClass=function(a,b){if(d.hasClass(a,b)){var c=new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\",\"g\");a.className=a.className.replace(c,\" \")}},d.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},d.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},d.extend(d.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),d.extend(d.ease={},{quadratic:{style:\"cubic-bezier(0.25, 0.46, 0.45, 0.94)\",fn:function(a){return a*(2-a)}},circular:{style:\"cubic-bezier(0.1, 0.57, 0.1, 1)\",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:\"cubic-bezier(0.175, 0.885, 0.32, 1.275)\",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:\"\",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:\"\",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*2*c.PI/b)+1}}}),d.tap=function(a,c){var d=b.createEvent(\"Event\");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},d.click=function(a){var d,c=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)||(d=b.createEvent(\"MouseEvents\"),d.initMouseEvent(\"click\",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._constructed=!0,c.dispatchEvent(d))},d}();f.prototype={version:\"5.1.1\",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent(\"destroy\")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent(\"scrollEnd\")))},_start:function(a){if(!(1!=e.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&e.eventType[a.type]!==this.initiated)){!this.options.preventDefault||e.isBadAndroid||e.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var d,b=a.touches?a.touches[0]:a;this.initiated=e.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=e.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,d=this.getComputedPosition(),this._translate(c.round(d.x),c.round(d.y)),this._execEvent(\"scrollEnd\")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent(\"scrollEnd\")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent(\"beforeScrollStart\")}},_move:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var h,i,j,k,b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,f=b.pageY-this.pointY,g=e.getTime();if(this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=d,this.distY+=f,j=c.abs(this.distX),k=c.abs(this.distY),!(g-this.endTime>300&&10>j&&10>k)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=j>k+this.options.directionLockThreshold?\"h\":k>=j+this.options.directionLockThreshold?\"v\":\"n\"),\"h\"==this.directionLocked){if(\"vertical\"==this.options.eventPassthrough)a.preventDefault();else if(\"horizontal\"==this.options.eventPassthrough)return this.initiated=!1,void 0;f=0}else if(\"v\"==this.directionLocked){if(\"horizontal\"==this.options.eventPassthrough)a.preventDefault();else if(\"vertical\"==this.options.eventPassthrough)return this.initiated=!1,void 0;d=0}d=this.hasHorizontalScroll?d:0,f=this.hasVerticalScroll?f:0,h=this.x+d,i=this.y+f,(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+d/3:h>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY),this.directionX=d>0?-1:0>d?1:0,this.directionY=f>0?-1:0>f?1:0,this.moved||this._execEvent(\"scrollStart\"),this.moved=!0,this._translate(h,i),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent(\"scroll\")),this.options.probeType>1&&this._execEvent(\"scroll\")}}},_end:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var d,f,g=(a.changedTouches?a.changedTouches[0]:a,e.getTime()-this.startTime),h=c.round(this.x),i=c.round(this.y),j=c.abs(h-this.startX),k=c.abs(i-this.startY),l=0,m=\"\";if(this.isInTransition=0,this.initiated=0,this.endTime=e.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(h,i),!this.moved)return this.options.tap&&e.tap(a,this.options.tap),this.options.click&&e.click(a),this._execEvent(\"scrollCancel\"),void 0;if(this._events.flick&&200>g&&100>j&&100>k)return this._execEvent(\"flick\"),void 0;if(this.options.momentum&&300>g&&(d=this.hasHorizontalScroll?e.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:h,duration:0},f=this.hasVerticalScroll?e.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:i,duration:0},h=d.destination,i=f.destination,l=c.max(d.duration,f.duration),this.isInTransition=1),this.options.snap){var n=this._nearestSnap(h,i);this.currentPage=n,l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-n.x),1e3),c.min(c.abs(i-n.y),1e3)),300),h=n.x,i=n.y,this.directionX=0,this.directionY=0,m=this.options.bounceEasing}return h!=this.x||i!=this.y?((h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)&&(m=e.ease.quadratic),this.scrollTo(h,i,l,m),void 0):(this._execEvent(\"scrollEnd\"),void 0)}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=e.offset(this.wrapper),this._execEvent(\"refresh\"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,f,g){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=e.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=d||0,h.top-=f||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||\"auto\"===b?c.max(c.abs(this.x-h.left),c.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,g)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[e.style.transitionDuration]=a+\"ms\",!a&&e.isBadAndroid&&(this.scrollerStyle[e.style.transitionDuration]=\"0.001s\"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[e.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[e.style.transform]=\"translate(\"+a+\"px,\"+b+\"px)\"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+\"px\",this.scrollerStyle.top=b+\"px\"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?e.removeEvent:e.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,\"orientationchange\",this),c(a,\"resize\",this),this.options.click&&c(this.wrapper,\"click\",this,!0),this.options.disableMouse||(c(this.wrapper,\"mousedown\",this),c(d,\"mousemove\",this),c(d,\"mousecancel\",this),c(d,\"mouseup\",this)),e.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,\"MSPointerDown\",this),c(d,\"MSPointerMove\",this),c(d,\"MSPointerCancel\",this),c(d,\"MSPointerUp\",this)),e.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,\"touchstart\",this),c(d,\"touchmove\",this),c(d,\"touchcancel\",this),c(d,\"touchend\",this)),c(this.scroller,\"transitionend\",this),c(this.scroller,\"webkitTransitionEnd\",this),c(this.scroller,\"oTransitionEnd\",this),c(this.scroller,\"MSTransitionEnd\",this)},getComputedPosition:function(){var c,d,b=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(b=b[e.style.transform].split(\")\")[0].split(\", \"),c=+(b[12]||b[4]),d=+(b[13]||b[5])):(c=+b.left.replace(/[^-\\d.]/g,\"\"),d=+b.top.replace(/[^-\\d.]/g,\"\")),{x:c,y:d}},_initIndicators:function(){function i(a){for(var b=e.indicators.length;b--;)a.call(e.indicators[b])}var d,a=this.options.interactiveScrollbars,b=\"string\"!=typeof this.options.scrollbars,c=[],e=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(d={el:g(\"v\",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(d.el),c.push(d)),this.options.scrollX&&(d={el:g(\"h\",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(d.el),c.push(d))),this.options.indicators&&(c=c.concat(this.options.indicators));for(var f=c.length;f--;)this.indicators.push(new h(this,c[f]));this.options.fadeScrollbars&&(this.on(\"scrollEnd\",function(){i(function(){this.fade()})}),this.on(\"scrollCancel\",function(){i(function(){this.fade()})}),this.on(\"scrollStart\",function(){i(function(){this.fade(1)})}),this.on(\"beforeScrollStart\",function(){i(function(){this.fade(1,!0)})})),this.on(\"refresh\",function(){i(function(){this.refresh()})}),this.on(\"destroy\",function(){i(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){e.addEvent(this.wrapper,\"wheel\",this),e.addEvent(this.wrapper,\"mousewheel\",this),e.addEvent(this.wrapper,\"DOMMouseScroll\",this),this.on(\"destroy\",function(){e.removeEvent(this.wrapper,\"wheel\",this),e.removeEvent(this.wrapper,\"mousewheel\",this),e.removeEvent(this.wrapper,\"DOMMouseScroll\",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;if(void 0===this.wheelTimeout&&g._execEvent(\"scrollStart\"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent(\"scrollEnd\"),g.wheelTimeout=void 0},400),\"deltaX\"in a)b=-a.deltaX,d=-a.deltaY;else if(\"wheelDeltaX\"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if(\"wheelDelta\"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!(\"detail\"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:0>b&&e++,d>0?f--:0>d&&f++,this.goToPage(e,f),void 0;e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0),this.options.probeType>1&&this._execEvent(\"scroll\")}},_initSnap:function(){this.currentPage={},\"string\"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on(\"refresh\",function(){var b,e,f,g,i,l,a=0,d=0,h=0,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(f=c.round(j/2),g=c.round(k/2);h>-this.scrollerWidth;){for(this.pages[a]=[],b=0,i=0;i>-this.scrollerHeight;)this.pages[a][b]={x:c.max(h,this.maxScrollX),y:c.max(i,this.maxScrollY),width:j,height:k,cx:h-f,cy:i-g},i-=k,b++;h-=j,a++}else for(l=this.options.snap,b=l.length,e=-1;b>a;a++)(0===a||l[a].offsetLeft<=l[a-1].offsetLeft)&&(d=0,e++),this.pages[d]||(this.pages[d]=[]),h=c.max(-l[a].offsetLeft,this.maxScrollX),i=c.max(-l[a].offsetTop,this.maxScrollY),f=h-c.round(l[a].offsetWidth/2),g=i-c.round(l[a].offsetHeight/2),this.pages[d][e]={x:h,y:i,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:f,cy:g},h>this.maxScrollX&&d++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),0===this.options.snapThreshold%1?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on(\"flick\",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);e>d;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;e>f;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,0>d?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,0>f?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var d,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if(\"object\"==typeof this.options.keyBindings)for(d in this.options.keyBindings)\"string\"==typeof this.options.keyBindings[d]&&(this.options.keyBindings[d]=this.options.keyBindings[d].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(d in c)this.options.keyBindings[d]=this.options.keyBindings[d]||c[d];e.addEvent(a,\"keydown\",this),this.on(\"destroy\",function(){e.removeEvent(a,\"keydown\",this)})},_key:function(a){if(this.enabled){var j,b=this.options.snap,d=b?this.currentPage.pageX:this.x,f=b?this.currentPage.pageY:this.y,g=e.getTime(),h=this.keyTime||0,i=.25;switch(this.options.useTransition&&this.isInTransition&&(j=this.getComputedPosition(),this._translate(c.round(j.x),c.round(j.y)),this.isInTransition=!1),this.keyAcceleration=200>g-h?c.min(this.keyAcceleration+i,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:f+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:f-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=b?this.pages.length-1:this.maxScrollX,f=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,f=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b)return this.goToPage(d,f),void 0;d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,f,0),this.keyTime=g}},_animate:function(a,b,c,f){function l(){var n,o,p,m=e.getTime();return m>=k?(g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent(\"scrollEnd\"),void 0):(m=(m-j)/c,p=f(m),n=(a-h)*p+h,o=(b-i)*p+i,g._translate(n,o),g.isAnimating&&d(l),3==g.options.probeType&&g._execEvent(\"scroll\"),void 0)}var g=this,h=this.x,i=this.y,j=e.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){switch(a.type){case\"touchstart\":case\"MSPointerDown\":case\"mousedown\":this._start(a);break;case\"touchmove\":case\"MSPointerMove\":case\"mousemove\":this._move(a);break;case\"touchend\":case\"MSPointerUp\":case\"mouseup\":case\"touchcancel\":case\"MSPointerCancel\":case\"mousecancel\":this._end(a);break;case\"orientationchange\":case\"resize\":this._resize();break;case\"transitionend\":case\"webkitTransitionEnd\":case\"oTransitionEnd\":case\"MSTransitionEnd\":this._transitionEnd(a);break;case\"wheel\":case\"DOMMouseScroll\":case\"mousewheel\":this._wheel(a);break;case\"keydown\":this._key(a);break;case\"click\":a._constructed||(a.preventDefault(),a.stopPropagation())}}},h.prototype={handleEvent:function(a){switch(a.type){case\"touchstart\":case\"MSPointerDown\":case\"mousedown\":this._start(a);break;case\"touchmove\":case\"MSPointerMove\":case\"mousemove\":this._move(a);break;case\"touchend\":case\"MSPointerUp\":case\"mouseup\":case\"touchcancel\":case\"MSPointerCancel\":case\"mousecancel\":this._end(a)}},destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,\"touchstart\",this),e.removeEvent(this.indicator,\"MSPointerDown\",this),e.removeEvent(this.indicator,\"mousedown\",this),e.removeEvent(a,\"touchmove\",this),e.removeEvent(a,\"MSPointerMove\",this),e.removeEvent(a,\"mousemove\",this),e.removeEvent(a,\"touchend\",this),e.removeEvent(a,\"MSPointerUp\",this),e.removeEvent(a,\"mouseup\",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=e.getTime(),this.options.disableTouch||e.addEvent(a,\"touchmove\",this),this.options.disablePointer||e.addEvent(a,\"MSPointerMove\",this),this.options.disableMouse||e.addEvent(a,\"mousemove\",this),this.scroller._execEvent(\"beforeScrollStart\")},_move:function(a){var c,d,f,g,b=a.touches?a.touches[0]:a,h=e.getTime();this.moved||this.scroller._execEvent(\"scrollStart\"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,f=this.x+c,g=this.y+d,this._pos(f,g),1==this.scroller.options.probeType&&h-this.startTime>300?(this.startTime=h,this.scroller._execEvent(\"scroll\")):this.scroller.options.probeType>1&&this.scroller._execEvent(\"scroll\"),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),e.removeEvent(a,\"touchmove\",this),e.removeEvent(a,\"MSPointerMove\",this),e.removeEvent(a,\"mousemove\",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);(this.scroller.x!=d.x||this.scroller.y!=d.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent(\"scrollEnd\")}},transitionTime:function(a){a=a||0,this.indicatorStyle[e.style.transitionDuration]=a+\"ms\",!a&&e.isBadAndroid&&(this.indicatorStyle[e.style.transitionDuration]=\"0.001s\")},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?\"block\":\"none\":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?\"block\":\"none\":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?\"block\":\"none\",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(e.addClass(this.wrapper,\"iScrollBothScrollbars\"),e.removeClass(this.wrapper,\"iScrollLoneScrollbar\"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=\"8px\":this.wrapper.style.bottom=\"8px\")):(e.removeClass(this.wrapper,\"iScrollBothScrollbars\"),e.addClass(this.wrapper,\"iScrollLoneScrollbar\"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=\"2px\":this.wrapper.style.bottom=\"2px\")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+\"px\"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,\"clip\"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+\"px\"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,\"clip\"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?(\"scale\"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+\"px\"),a=this.minBoundaryX):a>this.maxBoundaryX?\"scale\"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+\"px\",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:\"scale\"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+\"px\"),b<this.minBoundaryY?(\"scale\"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+\"px\"),b=this.minBoundaryY):b>this.maxBoundaryY?\"scale\"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+\"px\",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:\"scale\"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+\"px\")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]=\"translate(\"+a+\"px,\"+b+\"px)\"+this.scroller.translateZ:(this.indicatorStyle.left=a+\"px\",this.indicatorStyle.top=b+\"px\")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?\"1\":\"0\",this.wrapperStyle[e.style.transitionDuration]=c+\"ms\",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},f.utils=e,\"undefined\"!=typeof module&&module.exports?module.exports=f:a.IScroll=f}(window,document,Math);"]}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":31734},"action":"remove","lines":["/*! iScroll v5.1.1 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */","!function(a,b,c){function f(a,c){this.wrapper=\"string\"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:\"\",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&e.hasPerspective?\" translateZ(0)\":\"\",this.options.useTransition=e.hasTransition&&this.options.useTransition,this.options.useTransform=e.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?\"vertical\":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=\"vertical\"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX=\"horizontal\"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=\"string\"==typeof this.options.bounceEasing?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap=\"tap\"),\"scale\"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function g(a,c,d){var e=b.createElement(\"div\"),f=b.createElement(\"div\");return d===!0&&(e.style.cssText=\"position:absolute;z-index:9999\",f.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px\"),f.className=\"iScrollIndicator\",\"h\"==a?(d===!0&&(e.style.cssText+=\";height:7px;left:2px;right:2px;bottom:0\",f.style.height=\"100%\"),e.className=\"iScrollHorizontalScrollbar\"):(d===!0&&(e.style.cssText+=\";width:7px;bottom:2px;top:2px;right:1px\",f.style.width=\"100%\"),e.className=\"iScrollVerticalScrollbar\"),e.style.cssText+=\";overflow:hidden\",c||(e.style.pointerEvents=\"none\"),e.appendChild(f),e}function h(c,d){this.wrapper=\"string\"==typeof d.el?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var f in d)this.options[f]=d[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,\"touchstart\",this),e.addEvent(a,\"touchend\",this)),this.options.disablePointer||(e.addEvent(this.indicator,\"MSPointerDown\",this),e.addEvent(a,\"MSPointerUp\",this)),this.options.disableMouse||(e.addEvent(this.indicator,\"mousedown\",this),e.addEvent(a,\"mouseup\",this))),this.options.fade&&(this.wrapperStyle[e.style.transform]=this.scroller.translateZ,this.wrapperStyle[e.style.transitionDuration]=e.isBadAndroid?\"0.001s\":\"0ms\",this.wrapperStyle.opacity=\"0\")}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},e=function(){function g(a){return f===!1?!1:\"\"===f?a:f+a.charAt(0).toUpperCase()+a.substr(1)}var d={},e=b.createElement(\"div\").style,f=function(){for(var b,a=[\"t\",\"webkitT\",\"MozT\",\"msT\",\"OT\"],c=0,d=a.length;d>c;c++)if(b=a[c]+\"ransform\",b in e)return a[c].substr(0,a[c].length-1);return!1}();d.getTime=Date.now||function(){return(new Date).getTime()},d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},d.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},d.momentum=function(a,b,d,e,f,g){var j,k,h=a-b,i=c.abs(h)/d;return g=void 0===g?6e-4:g,j=a+i*i/(2*g)*(0>h?-1:1),k=i/g,e>j?(j=f?e-f/2.5*(i/8):e,h=c.abs(j-a),k=h/i):j>0&&(j=f?f/2.5*(i/8):0,h=c.abs(a)+j,k=h/i),{destination:c.round(j),duration:k}};var h=g(\"transform\");return d.extend(d,{hasTransform:h!==!1,hasPerspective:g(\"perspective\")in e,hasTouch:\"ontouchstart\"in a,hasPointer:navigator.msPointerEnabled,hasTransition:g(\"transition\")in e}),d.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\\/\\d/.test(a.navigator.appVersion),d.extend(d.style={},{transform:h,transitionTimingFunction:g(\"transitionTimingFunction\"),transitionDuration:g(\"transitionDuration\"),transitionDelay:g(\"transitionDelay\"),transformOrigin:g(\"transformOrigin\")}),d.hasClass=function(a,b){var c=new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\");return c.test(a.className)},d.addClass=function(a,b){if(!d.hasClass(a,b)){var c=a.className.split(\" \");c.push(b),a.className=c.join(\" \")}},d.removeClass=function(a,b){if(d.hasClass(a,b)){var c=new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\",\"g\");a.className=a.className.replace(c,\" \")}},d.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},d.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},d.extend(d.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),d.extend(d.ease={},{quadratic:{style:\"cubic-bezier(0.25, 0.46, 0.45, 0.94)\",fn:function(a){return a*(2-a)}},circular:{style:\"cubic-bezier(0.1, 0.57, 0.1, 1)\",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:\"cubic-bezier(0.175, 0.885, 0.32, 1.275)\",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:\"\",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:\"\",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*2*c.PI/b)+1}}}),d.tap=function(a,c){var d=b.createEvent(\"Event\");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},d.click=function(a){var d,c=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)||(d=b.createEvent(\"MouseEvents\"),d.initMouseEvent(\"click\",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._constructed=!0,c.dispatchEvent(d))},d}();f.prototype={version:\"5.1.1\",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent(\"destroy\")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent(\"scrollEnd\")))},_start:function(a){if(!(1!=e.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&e.eventType[a.type]!==this.initiated)){!this.options.preventDefault||e.isBadAndroid||e.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var d,b=a.touches?a.touches[0]:a;this.initiated=e.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=e.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,d=this.getComputedPosition(),this._translate(c.round(d.x),c.round(d.y)),this._execEvent(\"scrollEnd\")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent(\"scrollEnd\")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent(\"beforeScrollStart\")}},_move:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var h,i,j,k,b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,f=b.pageY-this.pointY,g=e.getTime();if(this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=d,this.distY+=f,j=c.abs(this.distX),k=c.abs(this.distY),!(g-this.endTime>300&&10>j&&10>k)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=j>k+this.options.directionLockThreshold?\"h\":k>=j+this.options.directionLockThreshold?\"v\":\"n\"),\"h\"==this.directionLocked){if(\"vertical\"==this.options.eventPassthrough)a.preventDefault();else if(\"horizontal\"==this.options.eventPassthrough)return this.initiated=!1,void 0;f=0}else if(\"v\"==this.directionLocked){if(\"horizontal\"==this.options.eventPassthrough)a.preventDefault();else if(\"vertical\"==this.options.eventPassthrough)return this.initiated=!1,void 0;d=0}d=this.hasHorizontalScroll?d:0,f=this.hasVerticalScroll?f:0,h=this.x+d,i=this.y+f,(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+d/3:h>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY),this.directionX=d>0?-1:0>d?1:0,this.directionY=f>0?-1:0>f?1:0,this.moved||this._execEvent(\"scrollStart\"),this.moved=!0,this._translate(h,i),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent(\"scroll\")),this.options.probeType>1&&this._execEvent(\"scroll\")}}},_end:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var d,f,g=(a.changedTouches?a.changedTouches[0]:a,e.getTime()-this.startTime),h=c.round(this.x),i=c.round(this.y),j=c.abs(h-this.startX),k=c.abs(i-this.startY),l=0,m=\"\";if(this.isInTransition=0,this.initiated=0,this.endTime=e.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(h,i),!this.moved)return this.options.tap&&e.tap(a,this.options.tap),this.options.click&&e.click(a),this._execEvent(\"scrollCancel\"),void 0;if(this._events.flick&&200>g&&100>j&&100>k)return this._execEvent(\"flick\"),void 0;if(this.options.momentum&&300>g&&(d=this.hasHorizontalScroll?e.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:h,duration:0},f=this.hasVerticalScroll?e.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:i,duration:0},h=d.destination,i=f.destination,l=c.max(d.duration,f.duration),this.isInTransition=1),this.options.snap){var n=this._nearestSnap(h,i);this.currentPage=n,l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-n.x),1e3),c.min(c.abs(i-n.y),1e3)),300),h=n.x,i=n.y,this.directionX=0,this.directionY=0,m=this.options.bounceEasing}return h!=this.x||i!=this.y?((h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)&&(m=e.ease.quadratic),this.scrollTo(h,i,l,m),void 0):(this._execEvent(\"scrollEnd\"),void 0)}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=e.offset(this.wrapper),this._execEvent(\"refresh\"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,f,g){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=e.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=d||0,h.top-=f||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||\"auto\"===b?c.max(c.abs(this.x-h.left),c.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,g)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[e.style.transitionDuration]=a+\"ms\",!a&&e.isBadAndroid&&(this.scrollerStyle[e.style.transitionDuration]=\"0.001s\"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[e.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[e.style.transform]=\"translate(\"+a+\"px,\"+b+\"px)\"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+\"px\",this.scrollerStyle.top=b+\"px\"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?e.removeEvent:e.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,\"orientationchange\",this),c(a,\"resize\",this),this.options.click&&c(this.wrapper,\"click\",this,!0),this.options.disableMouse||(c(this.wrapper,\"mousedown\",this),c(d,\"mousemove\",this),c(d,\"mousecancel\",this),c(d,\"mouseup\",this)),e.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,\"MSPointerDown\",this),c(d,\"MSPointerMove\",this),c(d,\"MSPointerCancel\",this),c(d,\"MSPointerUp\",this)),e.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,\"touchstart\",this),c(d,\"touchmove\",this),c(d,\"touchcancel\",this),c(d,\"touchend\",this)),c(this.scroller,\"transitionend\",this),c(this.scroller,\"webkitTransitionEnd\",this),c(this.scroller,\"oTransitionEnd\",this),c(this.scroller,\"MSTransitionEnd\",this)},getComputedPosition:function(){var c,d,b=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(b=b[e.style.transform].split(\")\")[0].split(\", \"),c=+(b[12]||b[4]),d=+(b[13]||b[5])):(c=+b.left.replace(/[^-\\d.]/g,\"\"),d=+b.top.replace(/[^-\\d.]/g,\"\")),{x:c,y:d}},_initIndicators:function(){function i(a){for(var b=e.indicators.length;b--;)a.call(e.indicators[b])}var d,a=this.options.interactiveScrollbars,b=\"string\"!=typeof this.options.scrollbars,c=[],e=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(d={el:g(\"v\",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(d.el),c.push(d)),this.options.scrollX&&(d={el:g(\"h\",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(d.el),c.push(d))),this.options.indicators&&(c=c.concat(this.options.indicators));for(var f=c.length;f--;)this.indicators.push(new h(this,c[f]));this.options.fadeScrollbars&&(this.on(\"scrollEnd\",function(){i(function(){this.fade()})}),this.on(\"scrollCancel\",function(){i(function(){this.fade()})}),this.on(\"scrollStart\",function(){i(function(){this.fade(1)})}),this.on(\"beforeScrollStart\",function(){i(function(){this.fade(1,!0)})})),this.on(\"refresh\",function(){i(function(){this.refresh()})}),this.on(\"destroy\",function(){i(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){e.addEvent(this.wrapper,\"wheel\",this),e.addEvent(this.wrapper,\"mousewheel\",this),e.addEvent(this.wrapper,\"DOMMouseScroll\",this),this.on(\"destroy\",function(){e.removeEvent(this.wrapper,\"wheel\",this),e.removeEvent(this.wrapper,\"mousewheel\",this),e.removeEvent(this.wrapper,\"DOMMouseScroll\",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;if(void 0===this.wheelTimeout&&g._execEvent(\"scrollStart\"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent(\"scrollEnd\"),g.wheelTimeout=void 0},400),\"deltaX\"in a)b=-a.deltaX,d=-a.deltaY;else if(\"wheelDeltaX\"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if(\"wheelDelta\"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!(\"detail\"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:0>b&&e++,d>0?f--:0>d&&f++,this.goToPage(e,f),void 0;e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0),this.options.probeType>1&&this._execEvent(\"scroll\")}},_initSnap:function(){this.currentPage={},\"string\"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on(\"refresh\",function(){var b,e,f,g,i,l,a=0,d=0,h=0,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(f=c.round(j/2),g=c.round(k/2);h>-this.scrollerWidth;){for(this.pages[a]=[],b=0,i=0;i>-this.scrollerHeight;)this.pages[a][b]={x:c.max(h,this.maxScrollX),y:c.max(i,this.maxScrollY),width:j,height:k,cx:h-f,cy:i-g},i-=k,b++;h-=j,a++}else for(l=this.options.snap,b=l.length,e=-1;b>a;a++)(0===a||l[a].offsetLeft<=l[a-1].offsetLeft)&&(d=0,e++),this.pages[d]||(this.pages[d]=[]),h=c.max(-l[a].offsetLeft,this.maxScrollX),i=c.max(-l[a].offsetTop,this.maxScrollY),f=h-c.round(l[a].offsetWidth/2),g=i-c.round(l[a].offsetHeight/2),this.pages[d][e]={x:h,y:i,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:f,cy:g},h>this.maxScrollX&&d++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),0===this.options.snapThreshold%1?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on(\"flick\",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);e>d;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;e>f;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,0>d?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,0>f?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var d,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if(\"object\"==typeof this.options.keyBindings)for(d in this.options.keyBindings)\"string\"==typeof this.options.keyBindings[d]&&(this.options.keyBindings[d]=this.options.keyBindings[d].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(d in c)this.options.keyBindings[d]=this.options.keyBindings[d]||c[d];e.addEvent(a,\"keydown\",this),this.on(\"destroy\",function(){e.removeEvent(a,\"keydown\",this)})},_key:function(a){if(this.enabled){var j,b=this.options.snap,d=b?this.currentPage.pageX:this.x,f=b?this.currentPage.pageY:this.y,g=e.getTime(),h=this.keyTime||0,i=.25;switch(this.options.useTransition&&this.isInTransition&&(j=this.getComputedPosition(),this._translate(c.round(j.x),c.round(j.y)),this.isInTransition=!1),this.keyAcceleration=200>g-h?c.min(this.keyAcceleration+i,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:f+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:f-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=b?this.pages.length-1:this.maxScrollX,f=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,f=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b)return this.goToPage(d,f),void 0;d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,f,0),this.keyTime=g}},_animate:function(a,b,c,f){function l(){var n,o,p,m=e.getTime();return m>=k?(g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent(\"scrollEnd\"),void 0):(m=(m-j)/c,p=f(m),n=(a-h)*p+h,o=(b-i)*p+i,g._translate(n,o),g.isAnimating&&d(l),3==g.options.probeType&&g._execEvent(\"scroll\"),void 0)}var g=this,h=this.x,i=this.y,j=e.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){switch(a.type){case\"touchstart\":case\"MSPointerDown\":case\"mousedown\":this._start(a);break;case\"touchmove\":case\"MSPointerMove\":case\"mousemove\":this._move(a);break;case\"touchend\":case\"MSPointerUp\":case\"mouseup\":case\"touchcancel\":case\"MSPointerCancel\":case\"mousecancel\":this._end(a);break;case\"orientationchange\":case\"resize\":this._resize();break;case\"transitionend\":case\"webkitTransitionEnd\":case\"oTransitionEnd\":case\"MSTransitionEnd\":this._transitionEnd(a);break;case\"wheel\":case\"DOMMouseScroll\":case\"mousewheel\":this._wheel(a);break;case\"keydown\":this._key(a);break;case\"click\":a._constructed||(a.preventDefault(),a.stopPropagation())}}},h.prototype={handleEvent:function(a){switch(a.type){case\"touchstart\":case\"MSPointerDown\":case\"mousedown\":this._start(a);break;case\"touchmove\":case\"MSPointerMove\":case\"mousemove\":this._move(a);break;case\"touchend\":case\"MSPointerUp\":case\"mouseup\":case\"touchcancel\":case\"MSPointerCancel\":case\"mousecancel\":this._end(a)}},destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,\"touchstart\",this),e.removeEvent(this.indicator,\"MSPointerDown\",this),e.removeEvent(this.indicator,\"mousedown\",this),e.removeEvent(a,\"touchmove\",this),e.removeEvent(a,\"MSPointerMove\",this),e.removeEvent(a,\"mousemove\",this),e.removeEvent(a,\"touchend\",this),e.removeEvent(a,\"MSPointerUp\",this),e.removeEvent(a,\"mouseup\",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=e.getTime(),this.options.disableTouch||e.addEvent(a,\"touchmove\",this),this.options.disablePointer||e.addEvent(a,\"MSPointerMove\",this),this.options.disableMouse||e.addEvent(a,\"mousemove\",this),this.scroller._execEvent(\"beforeScrollStart\")},_move:function(a){var c,d,f,g,b=a.touches?a.touches[0]:a,h=e.getTime();this.moved||this.scroller._execEvent(\"scrollStart\"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,f=this.x+c,g=this.y+d,this._pos(f,g),1==this.scroller.options.probeType&&h-this.startTime>300?(this.startTime=h,this.scroller._execEvent(\"scroll\")):this.scroller.options.probeType>1&&this.scroller._execEvent(\"scroll\"),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),e.removeEvent(a,\"touchmove\",this),e.removeEvent(a,\"MSPointerMove\",this),e.removeEvent(a,\"mousemove\",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);(this.scroller.x!=d.x||this.scroller.y!=d.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent(\"scrollEnd\")}},transitionTime:function(a){a=a||0,this.indicatorStyle[e.style.transitionDuration]=a+\"ms\",!a&&e.isBadAndroid&&(this.indicatorStyle[e.style.transitionDuration]=\"0.001s\")},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?\"block\":\"none\":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?\"block\":\"none\":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?\"block\":\"none\",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(e.addClass(this.wrapper,\"iScrollBothScrollbars\"),e.removeClass(this.wrapper,\"iScrollLoneScrollbar\"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=\"8px\":this.wrapper.style.bottom=\"8px\")):(e.removeClass(this.wrapper,\"iScrollBothScrollbars\"),e.addClass(this.wrapper,\"iScrollLoneScrollbar\"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=\"2px\":this.wrapper.style.bottom=\"2px\")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+\"px\"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,\"clip\"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+\"px\"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,\"clip\"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?(\"scale\"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+\"px\"),a=this.minBoundaryX):a>this.maxBoundaryX?\"scale\"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+\"px\",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:\"scale\"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+\"px\"),b<this.minBoundaryY?(\"scale\"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+\"px\"),b=this.minBoundaryY):b>this.maxBoundaryY?\"scale\"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+\"px\",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:\"scale\"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+\"px\")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]=\"translate(\"+a+\"px,\"+b+\"px)\"+this.scroller.translateZ:(this.indicatorStyle.left=a+\"px\",this.indicatorStyle.top=b+\"px\")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?\"1\":\"0\",this.wrapperStyle[e.style.transitionDuration]=c+\"ms\",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},f.utils=e,\"undefined\"!=typeof module&&module.exports?module.exports=f:a.IScroll=f}(window,document,Math);"],"id":3},{"start":{"row":0,"column":0},"end":{"row":1,"column":31734},"action":"insert","lines":["/*! iScroll v5.1.1 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */","!function(a,b,c){function f(a,c){this.wrapper=\"string\"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:\"\",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&e.hasPerspective?\" translateZ(0)\":\"\",this.options.useTransition=e.hasTransition&&this.options.useTransition,this.options.useTransform=e.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?\"vertical\":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=\"vertical\"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX=\"horizontal\"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=\"string\"==typeof this.options.bounceEasing?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap=\"tap\"),\"scale\"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function g(a,c,d){var e=b.createElement(\"div\"),f=b.createElement(\"div\");return d===!0&&(e.style.cssText=\"position:absolute;z-index:9999\",f.style.cssText=\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px\"),f.className=\"iScrollIndicator\",\"h\"==a?(d===!0&&(e.style.cssText+=\";height:7px;left:2px;right:2px;bottom:0\",f.style.height=\"100%\"),e.className=\"iScrollHorizontalScrollbar\"):(d===!0&&(e.style.cssText+=\";width:7px;bottom:2px;top:2px;right:1px\",f.style.width=\"100%\"),e.className=\"iScrollVerticalScrollbar\"),e.style.cssText+=\";overflow:hidden\",c||(e.style.pointerEvents=\"none\"),e.appendChild(f),e}function h(c,d){this.wrapper=\"string\"==typeof d.el?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var f in d)this.options[f]=d[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,\"touchstart\",this),e.addEvent(a,\"touchend\",this)),this.options.disablePointer||(e.addEvent(this.indicator,\"MSPointerDown\",this),e.addEvent(a,\"MSPointerUp\",this)),this.options.disableMouse||(e.addEvent(this.indicator,\"mousedown\",this),e.addEvent(a,\"mouseup\",this))),this.options.fade&&(this.wrapperStyle[e.style.transform]=this.scroller.translateZ,this.wrapperStyle[e.style.transitionDuration]=e.isBadAndroid?\"0.001s\":\"0ms\",this.wrapperStyle.opacity=\"0\")}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},e=function(){function g(a){return f===!1?!1:\"\"===f?a:f+a.charAt(0).toUpperCase()+a.substr(1)}var d={},e=b.createElement(\"div\").style,f=function(){for(var b,a=[\"t\",\"webkitT\",\"MozT\",\"msT\",\"OT\"],c=0,d=a.length;d>c;c++)if(b=a[c]+\"ransform\",b in e)return a[c].substr(0,a[c].length-1);return!1}();d.getTime=Date.now||function(){return(new Date).getTime()},d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},d.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},d.momentum=function(a,b,d,e,f,g){var j,k,h=a-b,i=c.abs(h)/d;return g=void 0===g?6e-4:g,j=a+i*i/(2*g)*(0>h?-1:1),k=i/g,e>j?(j=f?e-f/2.5*(i/8):e,h=c.abs(j-a),k=h/i):j>0&&(j=f?f/2.5*(i/8):0,h=c.abs(a)+j,k=h/i),{destination:c.round(j),duration:k}};var h=g(\"transform\");return d.extend(d,{hasTransform:h!==!1,hasPerspective:g(\"perspective\")in e,hasTouch:\"ontouchstart\"in a,hasPointer:navigator.msPointerEnabled,hasTransition:g(\"transition\")in e}),d.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\\/\\d/.test(a.navigator.appVersion),d.extend(d.style={},{transform:h,transitionTimingFunction:g(\"transitionTimingFunction\"),transitionDuration:g(\"transitionDuration\"),transitionDelay:g(\"transitionDelay\"),transformOrigin:g(\"transformOrigin\")}),d.hasClass=function(a,b){var c=new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\");return c.test(a.className)},d.addClass=function(a,b){if(!d.hasClass(a,b)){var c=a.className.split(\" \");c.push(b),a.className=c.join(\" \")}},d.removeClass=function(a,b){if(d.hasClass(a,b)){var c=new RegExp(\"(^|\\\\s)\"+b+\"(\\\\s|$)\",\"g\");a.className=a.className.replace(c,\" \")}},d.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},d.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},d.extend(d.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),d.extend(d.ease={},{quadratic:{style:\"cubic-bezier(0.25, 0.46, 0.45, 0.94)\",fn:function(a){return a*(2-a)}},circular:{style:\"cubic-bezier(0.1, 0.57, 0.1, 1)\",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:\"cubic-bezier(0.175, 0.885, 0.32, 1.275)\",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:\"\",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:\"\",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*2*c.PI/b)+1}}}),d.tap=function(a,c){var d=b.createEvent(\"Event\");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},d.click=function(a){var d,c=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)||(d=b.createEvent(\"MouseEvents\"),d.initMouseEvent(\"click\",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._constructed=!0,c.dispatchEvent(d))},d}();f.prototype={version:\"5.1.1\",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent(\"destroy\")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent(\"scrollEnd\")))},_start:function(a){if(!(1!=e.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&e.eventType[a.type]!==this.initiated)){!this.options.preventDefault||e.isBadAndroid||e.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var d,b=a.touches?a.touches[0]:a;this.initiated=e.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=e.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,d=this.getComputedPosition(),this._translate(c.round(d.x),c.round(d.y)),this._execEvent(\"scrollEnd\")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent(\"scrollEnd\")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent(\"beforeScrollStart\")}},_move:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var h,i,j,k,b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,f=b.pageY-this.pointY,g=e.getTime();if(this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=d,this.distY+=f,j=c.abs(this.distX),k=c.abs(this.distY),!(g-this.endTime>300&&10>j&&10>k)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=j>k+this.options.directionLockThreshold?\"h\":k>=j+this.options.directionLockThreshold?\"v\":\"n\"),\"h\"==this.directionLocked){if(\"vertical\"==this.options.eventPassthrough)a.preventDefault();else if(\"horizontal\"==this.options.eventPassthrough)return this.initiated=!1,void 0;f=0}else if(\"v\"==this.directionLocked){if(\"horizontal\"==this.options.eventPassthrough)a.preventDefault();else if(\"vertical\"==this.options.eventPassthrough)return this.initiated=!1,void 0;d=0}d=this.hasHorizontalScroll?d:0,f=this.hasVerticalScroll?f:0,h=this.x+d,i=this.y+f,(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+d/3:h>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY),this.directionX=d>0?-1:0>d?1:0,this.directionY=f>0?-1:0>f?1:0,this.moved||this._execEvent(\"scrollStart\"),this.moved=!0,this._translate(h,i),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent(\"scroll\")),this.options.probeType>1&&this._execEvent(\"scroll\")}}},_end:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var d,f,g=(a.changedTouches?a.changedTouches[0]:a,e.getTime()-this.startTime),h=c.round(this.x),i=c.round(this.y),j=c.abs(h-this.startX),k=c.abs(i-this.startY),l=0,m=\"\";if(this.isInTransition=0,this.initiated=0,this.endTime=e.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(h,i),!this.moved)return this.options.tap&&e.tap(a,this.options.tap),this.options.click&&e.click(a),this._execEvent(\"scrollCancel\"),void 0;if(this._events.flick&&200>g&&100>j&&100>k)return this._execEvent(\"flick\"),void 0;if(this.options.momentum&&300>g&&(d=this.hasHorizontalScroll?e.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:h,duration:0},f=this.hasVerticalScroll?e.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:i,duration:0},h=d.destination,i=f.destination,l=c.max(d.duration,f.duration),this.isInTransition=1),this.options.snap){var n=this._nearestSnap(h,i);this.currentPage=n,l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-n.x),1e3),c.min(c.abs(i-n.y),1e3)),300),h=n.x,i=n.y,this.directionX=0,this.directionY=0,m=this.options.bounceEasing}return h!=this.x||i!=this.y?((h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)&&(m=e.ease.quadratic),this.scrollTo(h,i,l,m),void 0):(this._execEvent(\"scrollEnd\"),void 0)}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=e.offset(this.wrapper),this._execEvent(\"refresh\"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,f,g){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=e.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=d||0,h.top-=f||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||\"auto\"===b?c.max(c.abs(this.x-h.left),c.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,g)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[e.style.transitionDuration]=a+\"ms\",!a&&e.isBadAndroid&&(this.scrollerStyle[e.style.transitionDuration]=\"0.001s\"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[e.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[e.style.transform]=\"translate(\"+a+\"px,\"+b+\"px)\"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+\"px\",this.scrollerStyle.top=b+\"px\"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?e.removeEvent:e.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,\"orientationchange\",this),c(a,\"resize\",this),this.options.click&&c(this.wrapper,\"click\",this,!0),this.options.disableMouse||(c(this.wrapper,\"mousedown\",this),c(d,\"mousemove\",this),c(d,\"mousecancel\",this),c(d,\"mouseup\",this)),e.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,\"MSPointerDown\",this),c(d,\"MSPointerMove\",this),c(d,\"MSPointerCancel\",this),c(d,\"MSPointerUp\",this)),e.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,\"touchstart\",this),c(d,\"touchmove\",this),c(d,\"touchcancel\",this),c(d,\"touchend\",this)),c(this.scroller,\"transitionend\",this),c(this.scroller,\"webkitTransitionEnd\",this),c(this.scroller,\"oTransitionEnd\",this),c(this.scroller,\"MSTransitionEnd\",this)},getComputedPosition:function(){var c,d,b=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(b=b[e.style.transform].split(\")\")[0].split(\", \"),c=+(b[12]||b[4]),d=+(b[13]||b[5])):(c=+b.left.replace(/[^-\\d.]/g,\"\"),d=+b.top.replace(/[^-\\d.]/g,\"\")),{x:c,y:d}},_initIndicators:function(){function i(a){for(var b=e.indicators.length;b--;)a.call(e.indicators[b])}var d,a=this.options.interactiveScrollbars,b=\"string\"!=typeof this.options.scrollbars,c=[],e=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(d={el:g(\"v\",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(d.el),c.push(d)),this.options.scrollX&&(d={el:g(\"h\",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(d.el),c.push(d))),this.options.indicators&&(c=c.concat(this.options.indicators));for(var f=c.length;f--;)this.indicators.push(new h(this,c[f]));this.options.fadeScrollbars&&(this.on(\"scrollEnd\",function(){i(function(){this.fade()})}),this.on(\"scrollCancel\",function(){i(function(){this.fade()})}),this.on(\"scrollStart\",function(){i(function(){this.fade(1)})}),this.on(\"beforeScrollStart\",function(){i(function(){this.fade(1,!0)})})),this.on(\"refresh\",function(){i(function(){this.refresh()})}),this.on(\"destroy\",function(){i(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){e.addEvent(this.wrapper,\"wheel\",this),e.addEvent(this.wrapper,\"mousewheel\",this),e.addEvent(this.wrapper,\"DOMMouseScroll\",this),this.on(\"destroy\",function(){e.removeEvent(this.wrapper,\"wheel\",this),e.removeEvent(this.wrapper,\"mousewheel\",this),e.removeEvent(this.wrapper,\"DOMMouseScroll\",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;if(void 0===this.wheelTimeout&&g._execEvent(\"scrollStart\"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent(\"scrollEnd\"),g.wheelTimeout=void 0},400),\"deltaX\"in a)b=-a.deltaX,d=-a.deltaY;else if(\"wheelDeltaX\"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if(\"wheelDelta\"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!(\"detail\"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:0>b&&e++,d>0?f--:0>d&&f++,this.goToPage(e,f),void 0;e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0),this.options.probeType>1&&this._execEvent(\"scroll\")}},_initSnap:function(){this.currentPage={},\"string\"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on(\"refresh\",function(){var b,e,f,g,i,l,a=0,d=0,h=0,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(f=c.round(j/2),g=c.round(k/2);h>-this.scrollerWidth;){for(this.pages[a]=[],b=0,i=0;i>-this.scrollerHeight;)this.pages[a][b]={x:c.max(h,this.maxScrollX),y:c.max(i,this.maxScrollY),width:j,height:k,cx:h-f,cy:i-g},i-=k,b++;h-=j,a++}else for(l=this.options.snap,b=l.length,e=-1;b>a;a++)(0===a||l[a].offsetLeft<=l[a-1].offsetLeft)&&(d=0,e++),this.pages[d]||(this.pages[d]=[]),h=c.max(-l[a].offsetLeft,this.maxScrollX),i=c.max(-l[a].offsetTop,this.maxScrollY),f=h-c.round(l[a].offsetWidth/2),g=i-c.round(l[a].offsetHeight/2),this.pages[d][e]={x:h,y:i,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:f,cy:g},h>this.maxScrollX&&d++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),0===this.options.snapThreshold%1?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on(\"flick\",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);e>d;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;e>f;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,0>d?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,0>f?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var d,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if(\"object\"==typeof this.options.keyBindings)for(d in this.options.keyBindings)\"string\"==typeof this.options.keyBindings[d]&&(this.options.keyBindings[d]=this.options.keyBindings[d].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(d in c)this.options.keyBindings[d]=this.options.keyBindings[d]||c[d];e.addEvent(a,\"keydown\",this),this.on(\"destroy\",function(){e.removeEvent(a,\"keydown\",this)})},_key:function(a){if(this.enabled){var j,b=this.options.snap,d=b?this.currentPage.pageX:this.x,f=b?this.currentPage.pageY:this.y,g=e.getTime(),h=this.keyTime||0,i=.25;switch(this.options.useTransition&&this.isInTransition&&(j=this.getComputedPosition(),this._translate(c.round(j.x),c.round(j.y)),this.isInTransition=!1),this.keyAcceleration=200>g-h?c.min(this.keyAcceleration+i,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:f+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:f-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=b?this.pages.length-1:this.maxScrollX,f=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,f=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b)return this.goToPage(d,f),void 0;d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,f,0),this.keyTime=g}},_animate:function(a,b,c,f){function l(){var n,o,p,m=e.getTime();return m>=k?(g.isAnimating=!1,g._translate(a,b),g.resetPosition(g.options.bounceTime)||g._execEvent(\"scrollEnd\"),void 0):(m=(m-j)/c,p=f(m),n=(a-h)*p+h,o=(b-i)*p+i,g._translate(n,o),g.isAnimating&&d(l),3==g.options.probeType&&g._execEvent(\"scroll\"),void 0)}var g=this,h=this.x,i=this.y,j=e.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){switch(a.type){case\"touchstart\":case\"MSPointerDown\":case\"mousedown\":this._start(a);break;case\"touchmove\":case\"MSPointerMove\":case\"mousemove\":this._move(a);break;case\"touchend\":case\"MSPointerUp\":case\"mouseup\":case\"touchcancel\":case\"MSPointerCancel\":case\"mousecancel\":this._end(a);break;case\"orientationchange\":case\"resize\":this._resize();break;case\"transitionend\":case\"webkitTransitionEnd\":case\"oTransitionEnd\":case\"MSTransitionEnd\":this._transitionEnd(a);break;case\"wheel\":case\"DOMMouseScroll\":case\"mousewheel\":this._wheel(a);break;case\"keydown\":this._key(a);break;case\"click\":a._constructed||(a.preventDefault(),a.stopPropagation())}}},h.prototype={handleEvent:function(a){switch(a.type){case\"touchstart\":case\"MSPointerDown\":case\"mousedown\":this._start(a);break;case\"touchmove\":case\"MSPointerMove\":case\"mousemove\":this._move(a);break;case\"touchend\":case\"MSPointerUp\":case\"mouseup\":case\"touchcancel\":case\"MSPointerCancel\":case\"mousecancel\":this._end(a)}},destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,\"touchstart\",this),e.removeEvent(this.indicator,\"MSPointerDown\",this),e.removeEvent(this.indicator,\"mousedown\",this),e.removeEvent(a,\"touchmove\",this),e.removeEvent(a,\"MSPointerMove\",this),e.removeEvent(a,\"mousemove\",this),e.removeEvent(a,\"touchend\",this),e.removeEvent(a,\"MSPointerUp\",this),e.removeEvent(a,\"mouseup\",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=e.getTime(),this.options.disableTouch||e.addEvent(a,\"touchmove\",this),this.options.disablePointer||e.addEvent(a,\"MSPointerMove\",this),this.options.disableMouse||e.addEvent(a,\"mousemove\",this),this.scroller._execEvent(\"beforeScrollStart\")},_move:function(a){var c,d,f,g,b=a.touches?a.touches[0]:a,h=e.getTime();this.moved||this.scroller._execEvent(\"scrollStart\"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,f=this.x+c,g=this.y+d,this._pos(f,g),1==this.scroller.options.probeType&&h-this.startTime>300?(this.startTime=h,this.scroller._execEvent(\"scroll\")):this.scroller.options.probeType>1&&this.scroller._execEvent(\"scroll\"),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),e.removeEvent(a,\"touchmove\",this),e.removeEvent(a,\"MSPointerMove\",this),e.removeEvent(a,\"mousemove\",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);(this.scroller.x!=d.x||this.scroller.y!=d.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent(\"scrollEnd\")}},transitionTime:function(a){a=a||0,this.indicatorStyle[e.style.transitionDuration]=a+\"ms\",!a&&e.isBadAndroid&&(this.indicatorStyle[e.style.transitionDuration]=\"0.001s\")},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?\"block\":\"none\":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?\"block\":\"none\":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?\"block\":\"none\",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(e.addClass(this.wrapper,\"iScrollBothScrollbars\"),e.removeClass(this.wrapper,\"iScrollLoneScrollbar\"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=\"8px\":this.wrapper.style.bottom=\"8px\")):(e.removeClass(this.wrapper,\"iScrollBothScrollbars\"),e.addClass(this.wrapper,\"iScrollLoneScrollbar\"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=\"2px\":this.wrapper.style.bottom=\"2px\")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+\"px\"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,\"clip\"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+\"px\"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,\"clip\"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?(\"scale\"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+\"px\"),a=this.minBoundaryX):a>this.maxBoundaryX?\"scale\"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+\"px\",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:\"scale\"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+\"px\"),b<this.minBoundaryY?(\"scale\"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+\"px\"),b=this.minBoundaryY):b>this.maxBoundaryY?\"scale\"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+\"px\",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:\"scale\"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+\"px\")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]=\"translate(\"+a+\"px,\"+b+\"px)\"+this.scroller.translateZ:(this.indicatorStyle.left=a+\"px\",this.indicatorStyle.top=b+\"px\")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?\"1\":\"0\",this.wrapperStyle[e.style.transitionDuration]=c+\"ms\",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},f.utils=e,\"undefined\"!=typeof module&&module.exports?module.exports=f:a.IScroll=f}(window,document,Math);"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":208800,"selection":{"start":{"row":1,"column":31734},"end":{"row":1,"column":31734},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1439953783188,"hash":"16598a7bd3347ef9353bde7bcf371c51bc7f4f5e"}